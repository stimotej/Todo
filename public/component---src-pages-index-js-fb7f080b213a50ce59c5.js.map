{"version":3,"file":"component---src-pages-index-js-fb7f080b213a50ce59c5.js","mappings":"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","sources":["webpack://todo/./node_modules/core-js/internals/a-callable.js","webpack://todo/./node_modules/core-js/internals/a-constructor.js","webpack://todo/./node_modules/core-js/internals/a-possible-prototype.js","webpack://todo/./node_modules/core-js/internals/an-object.js","webpack://todo/./node_modules/core-js/internals/array-includes.js","webpack://todo/./node_modules/core-js/internals/classof-raw.js","webpack://todo/./node_modules/core-js/internals/classof.js","webpack://todo/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://todo/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://todo/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://todo/./node_modules/core-js/internals/create-property-descriptor.js","webpack://todo/./node_modules/core-js/internals/descriptors.js","webpack://todo/./node_modules/core-js/internals/document-create-element.js","webpack://todo/./node_modules/core-js/internals/engine-user-agent.js","webpack://todo/./node_modules/core-js/internals/engine-v8-version.js","webpack://todo/./node_modules/core-js/internals/enum-bug-keys.js","webpack://todo/./node_modules/core-js/internals/export.js","webpack://todo/./node_modules/core-js/internals/fails.js","webpack://todo/./node_modules/core-js/internals/function-bind-context.js","webpack://todo/./node_modules/core-js/internals/function-name.js","webpack://todo/./node_modules/core-js/internals/get-built-in.js","webpack://todo/./node_modules/core-js/internals/get-iterator-method.js","webpack://todo/./node_modules/core-js/internals/get-iterator.js","webpack://todo/./node_modules/core-js/internals/get-method.js","webpack://todo/./node_modules/core-js/internals/global.js","webpack://todo/./node_modules/core-js/internals/has-own-property.js","webpack://todo/./node_modules/core-js/internals/hidden-keys.js","webpack://todo/./node_modules/core-js/internals/html.js","webpack://todo/./node_modules/core-js/internals/ie8-dom-define.js","webpack://todo/./node_modules/core-js/internals/indexed-object.js","webpack://todo/./node_modules/core-js/internals/inspect-source.js","webpack://todo/./node_modules/core-js/internals/install-error-cause.js","webpack://todo/./node_modules/core-js/internals/internal-state.js","webpack://todo/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://todo/./node_modules/core-js/internals/is-callable.js","webpack://todo/./node_modules/core-js/internals/is-constructor.js","webpack://todo/./node_modules/core-js/internals/is-forced.js","webpack://todo/./node_modules/core-js/internals/is-object.js","webpack://todo/./node_modules/core-js/internals/is-pure.js","webpack://todo/./node_modules/core-js/internals/is-symbol.js","webpack://todo/./node_modules/core-js/internals/iterate.js","webpack://todo/./node_modules/core-js/internals/iterator-close.js","webpack://todo/./node_modules/core-js/internals/iterators.js","webpack://todo/./node_modules/core-js/internals/length-of-array-like.js","webpack://todo/./node_modules/core-js/internals/native-promise-constructor.js","webpack://todo/./node_modules/core-js/internals/native-symbol.js","webpack://todo/./node_modules/core-js/internals/native-weak-map.js","webpack://todo/./node_modules/core-js/internals/new-promise-capability.js","webpack://todo/./node_modules/core-js/internals/object-create.js","webpack://todo/./node_modules/core-js/internals/object-define-properties.js","webpack://todo/./node_modules/core-js/internals/object-define-property.js","webpack://todo/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://todo/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://todo/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://todo/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://todo/./node_modules/core-js/internals/object-keys-internal.js","webpack://todo/./node_modules/core-js/internals/object-keys.js","webpack://todo/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://todo/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://todo/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://todo/./node_modules/core-js/internals/own-keys.js","webpack://todo/./node_modules/core-js/internals/promise-resolve.js","webpack://todo/./node_modules/core-js/internals/redefine.js","webpack://todo/./node_modules/core-js/internals/require-object-coercible.js","webpack://todo/./node_modules/core-js/internals/set-global.js","webpack://todo/./node_modules/core-js/internals/shared-key.js","webpack://todo/./node_modules/core-js/internals/shared-store.js","webpack://todo/./node_modules/core-js/internals/shared.js","webpack://todo/./node_modules/core-js/internals/species-constructor.js","webpack://todo/./node_modules/core-js/internals/to-absolute-index.js","webpack://todo/./node_modules/core-js/internals/to-indexed-object.js","webpack://todo/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://todo/./node_modules/core-js/internals/to-length.js","webpack://todo/./node_modules/core-js/internals/to-object.js","webpack://todo/./node_modules/core-js/internals/to-primitive.js","webpack://todo/./node_modules/core-js/internals/to-property-key.js","webpack://todo/./node_modules/core-js/internals/to-string-tag-support.js","webpack://todo/./node_modules/core-js/internals/to-string.js","webpack://todo/./node_modules/core-js/internals/try-to-string.js","webpack://todo/./node_modules/core-js/internals/uid.js","webpack://todo/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://todo/./node_modules/core-js/internals/well-known-symbol.js","webpack://todo/./node_modules/core-js/modules/es.aggregate-error.js","webpack://todo/./node_modules/core-js/modules/es.promise.finally.js","webpack://todo/./node_modules/core-js/modules/esnext.aggregate-error.js","webpack://todo/./src/components/Task.js","webpack://todo/./node_modules/dexie/dist/dexie.mjs","webpack://todo/./src/data/indexedDB.js","webpack://todo/./src/pages/index.js"],"sourcesContent":["var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a constructor');\n};\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (argument) {\n  if (typeof argument === 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var isObject = require('../internals/is-object');\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var aCallable = require('../internals/a-callable');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aCallable(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(iteratorMethod.call(argument));\n  throw TypeError(String(argument) + ' is not iterable');\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument === 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = constructorRegExp.exec;\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(function () { /* empty */ });\n\nvar isConstructorModern = function (argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(Object, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function (argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n    // we can't check .prototype since constructors produced by .bind haven't it\n  } return INCORRECT_TO_STRING || !!exec.call(constructorRegExp, inspectSource(argument));\n};\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var isCallable = require('../internals/is-callable');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && Object(it) instanceof $Symbol;\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar bind = require('../internals/function-bind-context');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw TypeError(String(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = innerResult.call(iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","module.exports = {};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = fn.call(input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.18.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aConstructor(S);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","module.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar installErrorCause = require('../internals/install-error-cause');\nvar iterate = require('../internals/iterate');\nvar toString = require('../internals/to-string');\n\nvar $AggregateError = function AggregateError(errors, message /* , options */) {\n  var that = this;\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message, options);\n  if (setPrototypeOf) {\n    // eslint-disable-next-line unicorn/error-message -- expected\n    that = setPrototypeOf(new Error(undefined), getPrototypeOf(that));\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', toString(message));\n  installErrorCause(that, options);\n  var errorsArray = [];\n  iterate(errors, errorsArray.push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\nif (setPrototypeOf) setPrototypeOf($AggregateError, Error);\nelse copyConstructorProperties($AggregateError, Error);\n\n$AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(1, $AggregateError),\n  message: createPropertyDescriptor(1, ''),\n  name: createPropertyDescriptor(1, 'AggregateError')\n});\n\n// `AggregateError` constructor\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromise)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromise.prototype['finally'] !== method) {\n    redefine(NativePromise.prototype, 'finally', method, { unsafe: true });\n  }\n}\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.aggregate-error');\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Task = ({ text, onClick, done, disabled }) => {\r\n  return (\r\n    <TaskContainer>\r\n      <CheckboxContainer onClick={onClick} disabled={disabled}>\r\n        <Checkbox done={done} />\r\n      </CheckboxContainer>\r\n      <TextContainer>\r\n        <Text done={done}>{text}</Text>\r\n      </TextContainer>\r\n    </TaskContainer>\r\n  );\r\n};\r\n\r\nconst TaskContainer = styled.li`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst CheckboxContainer = styled.button`\r\n  padding: 0 16px 0 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: #eeeeee;\r\n  }\r\n`;\r\n\r\nconst Checkbox = styled.div`\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 1.5px solid black;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => (props.done ? \"black\" : \"none\")};\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n  width: 100%;\r\n  padding: 20px 0 20px 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst Text = styled.p`\r\n  font-size: 1.125rem;\r\n  font-weight: 400;\r\n  text-decoration: ${(props) => (props.done ? \"line-through\" : \"none\")};\r\n`;\r\n\r\nexport default Task;\r\n","import \"core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/esnext.aggregate-error.js\";\n\n/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 3.0.3, Wed Nov 18 2020\n *\n * http://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n\nvar keys = Object.keys;\nvar isArray = Array.isArray;\n\nvar _global = typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : global;\n\nif (typeof Promise !== 'undefined' && !_global.Promise) {\n  _global.Promise = Promise;\n}\n\nfunction extend(obj, extension) {\n  if (typeof extension !== 'object') return obj;\n  keys(extension).forEach(function (key) {\n    obj[key] = extension[key];\n  });\n  return obj;\n}\n\nvar getProto = Object.getPrototypeOf;\nvar _hasOwn = {}.hasOwnProperty;\n\nfunction hasOwn(obj, prop) {\n  return _hasOwn.call(obj, prop);\n}\n\nfunction props(proto, extension) {\n  if (typeof extension === 'function') extension = extension(getProto(proto));\n  keys(extension).forEach(function (key) {\n    setProp(proto, key, extension[key]);\n  });\n}\n\nvar defineProperty = Object.defineProperty;\n\nfunction setProp(obj, prop, functionOrGetSet, options) {\n  defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ? {\n    get: functionOrGetSet.get,\n    set: functionOrGetSet.set,\n    configurable: true\n  } : {\n    value: functionOrGetSet,\n    configurable: true,\n    writable: true\n  }, options));\n}\n\nfunction derive(Child) {\n  return {\n    from: function from(Parent) {\n      Child.prototype = Object.create(Parent.prototype);\n      setProp(Child.prototype, \"constructor\", Child);\n      return {\n        extend: props.bind(null, Child.prototype)\n      };\n    }\n  };\n}\n\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\nfunction getPropertyDescriptor(obj, prop) {\n  var pd = getOwnPropertyDescriptor(obj, prop);\n  var proto;\n  return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n}\n\nvar _slice = [].slice;\n\nfunction slice(args, start, end) {\n  return _slice.call(args, start, end);\n}\n\nfunction override(origFunc, overridedFactory) {\n  return overridedFactory(origFunc);\n}\n\nfunction assert(b) {\n  if (!b) throw new Error(\"Assertion Failed\");\n}\n\nfunction asap(fn) {\n  if (_global.setImmediate) setImmediate(fn);else setTimeout(fn, 0);\n}\n\nfunction arrayToObject(array, extractor) {\n  return array.reduce(function (result, item, i) {\n    var nameAndValue = extractor(item, i);\n    if (nameAndValue) result[nameAndValue[0]] = nameAndValue[1];\n    return result;\n  }, {});\n}\n\nfunction tryCatch(fn, onerror, args) {\n  try {\n    fn.apply(null, args);\n  } catch (ex) {\n    onerror && onerror(ex);\n  }\n}\n\nfunction getByKeyPath(obj, keyPath) {\n  if (hasOwn(obj, keyPath)) return obj[keyPath];\n  if (!keyPath) return obj;\n\n  if (typeof keyPath !== 'string') {\n    var rv = [];\n\n    for (var i = 0, l = keyPath.length; i < l; ++i) {\n      var val = getByKeyPath(obj, keyPath[i]);\n      rv.push(val);\n    }\n\n    return rv;\n  }\n\n  var period = keyPath.indexOf('.');\n\n  if (period !== -1) {\n    var innerObj = obj[keyPath.substr(0, period)];\n    return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n  }\n\n  return undefined;\n}\n\nfunction setByKeyPath(obj, keyPath, value) {\n  if (!obj || keyPath === undefined) return;\n  if ('isFrozen' in Object && Object.isFrozen(obj)) return;\n\n  if (typeof keyPath !== 'string' && 'length' in keyPath) {\n    assert(typeof value !== 'string' && 'length' in value);\n\n    for (var i = 0, l = keyPath.length; i < l; ++i) {\n      setByKeyPath(obj, keyPath[i], value[i]);\n    }\n  } else {\n    var period = keyPath.indexOf('.');\n\n    if (period !== -1) {\n      var currentKeyPath = keyPath.substr(0, period);\n      var remainingKeyPath = keyPath.substr(period + 1);\n      if (remainingKeyPath === \"\") {\n        if (value === undefined) {\n          if (isArray(obj) && !isNaN(parseInt(currentKeyPath))) obj.splice(currentKeyPath, 1);else delete obj[currentKeyPath];\n        } else obj[currentKeyPath] = value;\n      } else {\n        var innerObj = obj[currentKeyPath];\n        if (!innerObj) innerObj = obj[currentKeyPath] = {};\n        setByKeyPath(innerObj, remainingKeyPath, value);\n      }\n    } else {\n      if (value === undefined) {\n        if (isArray(obj) && !isNaN(parseInt(keyPath))) obj.splice(keyPath, 1);else delete obj[keyPath];\n      } else obj[keyPath] = value;\n    }\n  }\n}\n\nfunction delByKeyPath(obj, keyPath) {\n  if (typeof keyPath === 'string') setByKeyPath(obj, keyPath, undefined);else if ('length' in keyPath) [].map.call(keyPath, function (kp) {\n    setByKeyPath(obj, kp, undefined);\n  });\n}\n\nfunction shallowClone(obj) {\n  var rv = {};\n\n  for (var m in obj) {\n    if (hasOwn(obj, m)) rv[m] = obj[m];\n  }\n\n  return rv;\n}\n\nvar concat = [].concat;\n\nfunction flatten(a) {\n  return concat.apply([], a);\n}\n\nvar intrinsicTypeNames = \"Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set\".split(',').concat(flatten([8, 16, 32, 64].map(function (num) {\n  return [\"Int\", \"Uint\", \"Float\"].map(function (t) {\n    return t + num + \"Array\";\n  });\n}))).filter(function (t) {\n  return _global[t];\n});\nvar intrinsicTypes = intrinsicTypeNames.map(function (t) {\n  return _global[t];\n});\nvar intrinsicTypeNameSet = arrayToObject(intrinsicTypeNames, function (x) {\n  return [x, true];\n});\n\nfunction deepClone(any) {\n  if (!any || typeof any !== 'object') return any;\n  var rv;\n\n  if (isArray(any)) {\n    rv = [];\n\n    for (var i = 0, l = any.length; i < l; ++i) {\n      rv.push(deepClone(any[i]));\n    }\n  } else if (intrinsicTypes.indexOf(any.constructor) >= 0) {\n    rv = any;\n  } else {\n    rv = any.constructor ? Object.create(any.constructor.prototype) : {};\n\n    for (var prop in any) {\n      if (hasOwn(any, prop)) {\n        rv[prop] = deepClone(any[prop]);\n      }\n    }\n  }\n\n  return rv;\n}\n\nvar toString = {}.toString;\n\nfunction toStringTag(o) {\n  return toString.call(o).slice(8, -1);\n}\n\nvar getValueOf = function getValueOf(val, type) {\n  return type === \"Array\" ? '' + val.map(function (v) {\n    return getValueOf(v, toStringTag(v));\n  }) : type === \"ArrayBuffer\" ? '' + new Uint8Array(val) : type === \"Date\" ? val.getTime() : ArrayBuffer.isView(val) ? '' + new Uint8Array(val.buffer) : val;\n};\n\nfunction getObjectDiff(a, b, rv, prfx) {\n  rv = rv || {};\n  prfx = prfx || '';\n  keys(a).forEach(function (prop) {\n    if (!hasOwn(b, prop)) rv[prfx + prop] = undefined;else {\n      var ap = a[prop],\n          bp = b[prop];\n\n      if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n        var apTypeName = toStringTag(ap);\n        var bpTypeName = toStringTag(bp);\n\n        if (apTypeName === bpTypeName) {\n          if (intrinsicTypeNameSet[apTypeName]) {\n            if (getValueOf(ap, apTypeName) !== getValueOf(bp, bpTypeName)) {\n              rv[prfx + prop] = b[prop];\n            }\n          } else {\n            getObjectDiff(ap, bp, rv, prfx + prop + \".\");\n          }\n        } else {\n          rv[prfx + prop] = b[prop];\n        }\n      } else if (ap !== bp) rv[prfx + prop] = b[prop];\n    }\n  });\n  keys(b).forEach(function (prop) {\n    if (!hasOwn(a, prop)) {\n      rv[prfx + prop] = b[prop];\n    }\n  });\n  return rv;\n}\n\nvar iteratorSymbol = typeof Symbol !== 'undefined' && Symbol.iterator;\nvar getIteratorOf = iteratorSymbol ? function (x) {\n  var i;\n  return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n} : function () {\n  return null;\n};\nvar NO_CHAR_ARRAY = {};\n\nfunction getArrayOf(arrayLike) {\n  var i, a, x, it;\n\n  if (arguments.length === 1) {\n    if (isArray(arrayLike)) return arrayLike.slice();\n    if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string') return [arrayLike];\n\n    if (it = getIteratorOf(arrayLike)) {\n      a = [];\n\n      while (x = it.next(), !x.done) {\n        a.push(x.value);\n      }\n\n      return a;\n    }\n\n    if (arrayLike == null) return [arrayLike];\n    i = arrayLike.length;\n\n    if (typeof i === 'number') {\n      a = new Array(i);\n\n      while (i--) {\n        a[i] = arrayLike[i];\n      }\n\n      return a;\n    }\n\n    return [arrayLike];\n  }\n\n  i = arguments.length;\n  a = new Array(i);\n\n  while (i--) {\n    a[i] = arguments[i];\n  }\n\n  return a;\n}\n\nvar isAsyncFunction = typeof Symbol !== 'undefined' ? function (fn) {\n  return fn[Symbol.toStringTag] === 'AsyncFunction';\n} : function () {\n  return false;\n};\nvar debug = typeof location !== 'undefined' && /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n\nfunction setDebug(value, filter) {\n  debug = value;\n  libraryFilter = filter;\n}\n\nvar libraryFilter = function libraryFilter() {\n  return true;\n};\n\nvar NEEDS_THROW_FOR_STACK = !new Error(\"\").stack;\n\nfunction getErrorWithStack() {\n  if (NEEDS_THROW_FOR_STACK) try {\n    throw new Error();\n  } catch (e) {\n    return e;\n  }\n  return new Error();\n}\n\nfunction prettyStack(exception, numIgnoredFrames) {\n  var stack = exception.stack;\n  if (!stack) return \"\";\n  numIgnoredFrames = numIgnoredFrames || 0;\n  if (stack.indexOf(exception.name) === 0) numIgnoredFrames += (exception.name + exception.message).split('\\n').length;\n  return stack.split('\\n').slice(numIgnoredFrames).filter(libraryFilter).map(function (frame) {\n    return \"\\n\" + frame;\n  }).join('');\n}\n\nvar dexieErrorNames = ['Modify', 'Bulk', 'OpenFailed', 'VersionChange', 'Schema', 'Upgrade', 'InvalidTable', 'MissingAPI', 'NoSuchDatabase', 'InvalidArgument', 'SubTransaction', 'Unsupported', 'Internal', 'DatabaseClosed', 'PrematureCommit', 'ForeignAwait'];\nvar idbDomErrorNames = ['Unknown', 'Constraint', 'Data', 'TransactionInactive', 'ReadOnly', 'Version', 'NotFound', 'InvalidState', 'InvalidAccess', 'Abort', 'Timeout', 'QuotaExceeded', 'Syntax', 'DataClone'];\nvar errorList = dexieErrorNames.concat(idbDomErrorNames);\nvar defaultTexts = {\n  VersionChanged: \"Database version changed by other database connection\",\n  DatabaseClosed: \"Database has been closed\",\n  Abort: \"Transaction aborted\",\n  TransactionInactive: \"Transaction has already completed or failed\"\n};\n\nfunction DexieError(name, msg) {\n  this._e = getErrorWithStack();\n  this.name = name;\n  this.message = msg;\n}\n\nderive(DexieError).from(Error).extend({\n  stack: {\n    get: function get() {\n      return this._stack || (this._stack = this.name + \": \" + this.message + prettyStack(this._e, 2));\n    }\n  },\n  toString: function toString() {\n    return this.name + \": \" + this.message;\n  }\n});\n\nfunction getMultiErrorMessage(msg, failures) {\n  return msg + \". Errors: \" + Object.keys(failures).map(function (key) {\n    return failures[key].toString();\n  }).filter(function (v, i, s) {\n    return s.indexOf(v) === i;\n  }).join('\\n');\n}\n\nfunction ModifyError(msg, failures, successCount, failedKeys) {\n  this._e = getErrorWithStack();\n  this.failures = failures;\n  this.failedKeys = failedKeys;\n  this.successCount = successCount;\n  this.message = getMultiErrorMessage(msg, failures);\n}\n\nderive(ModifyError).from(DexieError);\n\nfunction BulkError(msg, failures) {\n  this._e = getErrorWithStack();\n  this.name = \"BulkError\";\n  this.failures = failures;\n  this.message = getMultiErrorMessage(msg, failures);\n}\n\nderive(BulkError).from(DexieError);\nvar errnames = errorList.reduce(function (obj, name) {\n  return obj[name] = name + \"Error\", obj;\n}, {});\nvar BaseException = DexieError;\nvar exceptions = errorList.reduce(function (obj, name) {\n  var fullName = name + \"Error\";\n\n  function DexieError(msgOrInner, inner) {\n    this._e = getErrorWithStack();\n    this.name = fullName;\n\n    if (!msgOrInner) {\n      this.message = defaultTexts[name] || fullName;\n      this.inner = null;\n    } else if (typeof msgOrInner === 'string') {\n      this.message = \"\" + msgOrInner + (!inner ? '' : '\\n ' + inner);\n      this.inner = inner || null;\n    } else if (typeof msgOrInner === 'object') {\n      this.message = msgOrInner.name + \" \" + msgOrInner.message;\n      this.inner = msgOrInner;\n    }\n  }\n\n  derive(DexieError).from(BaseException);\n  obj[name] = DexieError;\n  return obj;\n}, {});\nexceptions.Syntax = SyntaxError;\nexceptions.Type = TypeError;\nexceptions.Range = RangeError;\nvar exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n  obj[name + \"Error\"] = exceptions[name];\n  return obj;\n}, {});\n\nfunction mapError(domError, message) {\n  if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name]) return domError;\n  var rv = new exceptionMap[domError.name](message || domError.message, domError);\n\n  if (\"stack\" in domError) {\n    setProp(rv, \"stack\", {\n      get: function get() {\n        return this.inner.stack;\n      }\n    });\n  }\n\n  return rv;\n}\n\nvar fullNameExceptions = errorList.reduce(function (obj, name) {\n  if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1) obj[name + \"Error\"] = exceptions[name];\n  return obj;\n}, {});\nfullNameExceptions.ModifyError = ModifyError;\nfullNameExceptions.DexieError = DexieError;\nfullNameExceptions.BulkError = BulkError;\n\nfunction nop() {}\n\nfunction mirror(val) {\n  return val;\n}\n\nfunction pureFunctionChain(f1, f2) {\n  if (f1 == null || f1 === mirror) return f2;\n  return function (val) {\n    return f2(f1(val));\n  };\n}\n\nfunction callBoth(on1, on2) {\n  return function () {\n    on1.apply(this, arguments);\n    on2.apply(this, arguments);\n  };\n}\n\nfunction hookCreatingChain(f1, f2) {\n  if (f1 === nop) return f2;\n  return function () {\n    var res = f1.apply(this, arguments);\n    if (res !== undefined) arguments[0] = res;\n    var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n    this.onsuccess = null;\n    this.onerror = null;\n    var res2 = f2.apply(this, arguments);\n    if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n    if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    return res2 !== undefined ? res2 : res;\n  };\n}\n\nfunction hookDeletingChain(f1, f2) {\n  if (f1 === nop) return f2;\n  return function () {\n    f1.apply(this, arguments);\n    var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n    this.onsuccess = this.onerror = null;\n    f2.apply(this, arguments);\n    if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n    if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n  };\n}\n\nfunction hookUpdatingChain(f1, f2) {\n  if (f1 === nop) return f2;\n  return function (modifications) {\n    var res = f1.apply(this, arguments);\n    extend(modifications, res);\n    var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n    this.onsuccess = null;\n    this.onerror = null;\n    var res2 = f2.apply(this, arguments);\n    if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n    if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    return res === undefined ? res2 === undefined ? undefined : res2 : extend(res, res2);\n  };\n}\n\nfunction reverseStoppableEventChain(f1, f2) {\n  if (f1 === nop) return f2;\n  return function () {\n    if (f2.apply(this, arguments) === false) return false;\n    return f1.apply(this, arguments);\n  };\n}\n\nfunction promisableChain(f1, f2) {\n  if (f1 === nop) return f2;\n  return function () {\n    var res = f1.apply(this, arguments);\n\n    if (res && typeof res.then === 'function') {\n      var thiz = this,\n          i = arguments.length,\n          args = new Array(i);\n\n      while (i--) {\n        args[i] = arguments[i];\n      }\n\n      return res.then(function () {\n        return f2.apply(thiz, args);\n      });\n    }\n\n    return f2.apply(this, arguments);\n  };\n}\n\nvar INTERNAL = {};\nvar LONG_STACKS_CLIP_LIMIT = 100;\nvar MAX_LONG_STACKS = 20;\nvar ZONE_ECHO_LIMIT = 100;\n\nvar _a = typeof Promise === 'undefined' ? [] : function () {\n  var globalP = Promise.resolve();\n  if (typeof crypto === 'undefined' || !crypto.subtle) return [globalP, globalP.__proto__, globalP];\n  var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n  return [nativeP, nativeP.__proto__, globalP];\n}();\n\nvar resolvedNativePromise = _a[0];\nvar nativePromiseProto = _a[1];\nvar resolvedGlobalPromise = _a[2];\nvar nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\nvar NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\nvar patchGlobalPromise = !!resolvedGlobalPromise;\nvar stack_being_generated = false;\nvar schedulePhysicalTick = resolvedGlobalPromise ? function () {\n  resolvedGlobalPromise.then(physicalTick);\n} : _global.setImmediate ? setImmediate.bind(null, physicalTick) : _global.MutationObserver ? function () {\n  var hiddenDiv = document.createElement(\"div\");\n  new MutationObserver(function () {\n    physicalTick();\n    hiddenDiv = null;\n  }).observe(hiddenDiv, {\n    attributes: true\n  });\n  hiddenDiv.setAttribute('i', '1');\n} : function () {\n  setTimeout(physicalTick, 0);\n};\n\nvar asap$1 = function asap$1(callback, args) {\n  microtickQueue.push([callback, args]);\n\n  if (needsNewPhysicalTick) {\n    schedulePhysicalTick();\n    needsNewPhysicalTick = false;\n  }\n};\n\nvar isOutsideMicroTick = true;\nvar needsNewPhysicalTick = true;\nvar unhandledErrors = [];\nvar rejectingErrors = [];\nvar currentFulfiller = null;\nvar rejectionMapper = mirror;\nvar globalPSD = {\n  id: 'global',\n  global: true,\n  ref: 0,\n  unhandleds: [],\n  onunhandled: globalError,\n  pgp: false,\n  env: {},\n  finalize: function finalize() {\n    this.unhandleds.forEach(function (uh) {\n      try {\n        globalError(uh[0], uh[1]);\n      } catch (e) {}\n    });\n  }\n};\nvar PSD = globalPSD;\nvar microtickQueue = [];\nvar numScheduledCalls = 0;\nvar tickFinalizers = [];\n\nfunction DexiePromise(fn) {\n  if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n  this._listeners = [];\n  this.onuncatched = nop;\n  this._lib = false;\n  var psd = this._PSD = PSD;\n\n  if (debug) {\n    this._stackHolder = getErrorWithStack();\n    this._prev = null;\n    this._numPrev = 0;\n  }\n\n  if (typeof fn !== 'function') {\n    if (fn !== INTERNAL) throw new TypeError('Not a function');\n    this._state = arguments[1];\n    this._value = arguments[2];\n    if (this._state === false) handleRejection(this, this._value);\n    return;\n  }\n\n  this._state = null;\n  this._value = null;\n  ++psd.ref;\n  executePromiseTask(this, fn);\n}\n\nvar thenProp = {\n  get: function get() {\n    var psd = PSD,\n        microTaskId = totalEchoes;\n\n    function then(onFulfilled, onRejected) {\n      var _this = this;\n\n      var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n      var cleanup = possibleAwait && !decrementExpectedAwaits();\n      var rv = new DexiePromise(function (resolve, reject) {\n        propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n      });\n      debug && linkToPreviousPromise(rv, this);\n      return rv;\n    }\n\n    then.prototype = INTERNAL;\n    return then;\n  },\n  set: function set(value) {\n    setProp(this, 'then', value && value.prototype === INTERNAL ? thenProp : {\n      get: function get() {\n        return value;\n      },\n      set: thenProp.set\n    });\n  }\n};\nprops(DexiePromise.prototype, {\n  then: thenProp,\n  _then: function _then(onFulfilled, onRejected) {\n    propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n  },\n  catch: function _catch(onRejected) {\n    if (arguments.length === 1) return this.then(null, onRejected);\n    var type = arguments[0],\n        handler = arguments[1];\n    return typeof type === 'function' ? this.then(null, function (err) {\n      return err instanceof type ? handler(err) : PromiseReject(err);\n    }) : this.then(null, function (err) {\n      return err && err.name === type ? handler(err) : PromiseReject(err);\n    });\n  },\n  finally: function _finally(onFinally) {\n    return this.then(function (value) {\n      onFinally();\n      return value;\n    }, function (err) {\n      onFinally();\n      return PromiseReject(err);\n    });\n  },\n  stack: {\n    get: function get() {\n      if (this._stack) return this._stack;\n\n      try {\n        stack_being_generated = true;\n        var stacks = getStack(this, [], MAX_LONG_STACKS);\n        var stack = stacks.join(\"\\nFrom previous: \");\n        if (this._state !== null) this._stack = stack;\n        return stack;\n      } finally {\n        stack_being_generated = false;\n      }\n    }\n  },\n  timeout: function timeout(ms, msg) {\n    var _this = this;\n\n    return ms < Infinity ? new DexiePromise(function (resolve, reject) {\n      var handle = setTimeout(function () {\n        return reject(new exceptions.Timeout(msg));\n      }, ms);\n\n      _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n    }) : this;\n  }\n});\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag) setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\nglobalPSD.env = snapShot();\n\nfunction Listener(onFulfilled, onRejected, resolve, reject, zone) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.resolve = resolve;\n  this.reject = reject;\n  this.psd = zone;\n}\n\nprops(DexiePromise, {\n  all: function all() {\n    var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n    return new DexiePromise(function (resolve, reject) {\n      if (values.length === 0) resolve([]);\n      var remaining = values.length;\n      values.forEach(function (a, i) {\n        return DexiePromise.resolve(a).then(function (x) {\n          values[i] = x;\n          if (! --remaining) resolve(values);\n        }, reject);\n      });\n    });\n  },\n  resolve: function resolve(value) {\n    if (value instanceof DexiePromise) return value;\n    if (value && typeof value.then === 'function') return new DexiePromise(function (resolve, reject) {\n      value.then(resolve, reject);\n    });\n    var rv = new DexiePromise(INTERNAL, true, value);\n    linkToPreviousPromise(rv, currentFulfiller);\n    return rv;\n  },\n  reject: PromiseReject,\n  race: function race() {\n    var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n    return new DexiePromise(function (resolve, reject) {\n      values.map(function (value) {\n        return DexiePromise.resolve(value).then(resolve, reject);\n      });\n    });\n  },\n  PSD: {\n    get: function get() {\n      return PSD;\n    },\n    set: function set(value) {\n      return PSD = value;\n    }\n  },\n  totalEchoes: {\n    get: function get() {\n      return totalEchoes;\n    }\n  },\n  newPSD: newScope,\n  usePSD: usePSD,\n  scheduler: {\n    get: function get() {\n      return asap$1;\n    },\n    set: function set(value) {\n      asap$1 = value;\n    }\n  },\n  rejectionMapper: {\n    get: function get() {\n      return rejectionMapper;\n    },\n    set: function set(value) {\n      rejectionMapper = value;\n    }\n  },\n  follow: function follow(fn, zoneProps) {\n    return new DexiePromise(function (resolve, reject) {\n      return newScope(function (resolve, reject) {\n        var psd = PSD;\n        psd.unhandleds = [];\n        psd.onunhandled = reject;\n        psd.finalize = callBoth(function () {\n          var _this = this;\n\n          run_at_end_of_this_or_next_physical_tick(function () {\n            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n          });\n        }, psd.finalize);\n        fn();\n      }, zoneProps, resolve, reject);\n    });\n  }\n});\n\nif (NativePromise) {\n  if (NativePromise.allSettled) setProp(DexiePromise, \"allSettled\", function () {\n    var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n    return new DexiePromise(function (resolve) {\n      if (possiblePromises.length === 0) resolve([]);\n      var remaining = possiblePromises.length;\n      var results = new Array(remaining);\n      possiblePromises.forEach(function (p, i) {\n        return DexiePromise.resolve(p).then(function (value) {\n          return results[i] = {\n            status: \"fulfilled\",\n            value: value\n          };\n        }, function (reason) {\n          return results[i] = {\n            status: \"rejected\",\n            reason: reason\n          };\n        }).then(function () {\n          return --remaining || resolve(results);\n        });\n      });\n    });\n  });\n  if (NativePromise.any && typeof AggregateError !== 'undefined') setProp(DexiePromise, \"any\", function () {\n    var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n    return new DexiePromise(function (resolve, reject) {\n      if (possiblePromises.length === 0) reject(new AggregateError([]));\n      var remaining = possiblePromises.length;\n      var failures = new Array(remaining);\n      possiblePromises.forEach(function (p, i) {\n        return DexiePromise.resolve(p).then(function (value) {\n          return resolve(value);\n        }, function (failure) {\n          failures[i] = failure;\n          if (! --remaining) reject(new AggregateError(failures));\n        });\n      });\n    });\n  });\n}\n\nfunction executePromiseTask(promise, fn) {\n  try {\n    fn(function (value) {\n      if (promise._state !== null) return;\n      if (value === promise) throw new TypeError('A promise cannot be resolved with itself.');\n      var shouldExecuteTick = promise._lib && beginMicroTickScope();\n\n      if (value && typeof value.then === 'function') {\n        executePromiseTask(promise, function (resolve, reject) {\n          value instanceof DexiePromise ? value._then(resolve, reject) : value.then(resolve, reject);\n        });\n      } else {\n        promise._state = true;\n        promise._value = value;\n        propagateAllListeners(promise);\n      }\n\n      if (shouldExecuteTick) endMicroTickScope();\n    }, handleRejection.bind(null, promise));\n  } catch (ex) {\n    handleRejection(promise, ex);\n  }\n}\n\nfunction handleRejection(promise, reason) {\n  rejectingErrors.push(reason);\n  if (promise._state !== null) return;\n  var shouldExecuteTick = promise._lib && beginMicroTickScope();\n  reason = rejectionMapper(reason);\n  promise._state = false;\n  promise._value = reason;\n  debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(function () {\n    var origProp = getPropertyDescriptor(reason, \"stack\");\n    reason._promise = promise;\n    setProp(reason, \"stack\", {\n      get: function get() {\n        return stack_being_generated ? origProp && (origProp.get ? origProp.get.apply(reason) : origProp.value) : promise.stack;\n      }\n    });\n  });\n  addPossiblyUnhandledError(promise);\n  propagateAllListeners(promise);\n  if (shouldExecuteTick) endMicroTickScope();\n}\n\nfunction propagateAllListeners(promise) {\n  var listeners = promise._listeners;\n  promise._listeners = [];\n\n  for (var i = 0, len = listeners.length; i < len; ++i) {\n    propagateToListener(promise, listeners[i]);\n  }\n\n  var psd = promise._PSD;\n  --psd.ref || psd.finalize();\n\n  if (numScheduledCalls === 0) {\n    ++numScheduledCalls;\n    asap$1(function () {\n      if (--numScheduledCalls === 0) finalizePhysicalTick();\n    }, []);\n  }\n}\n\nfunction propagateToListener(promise, listener) {\n  if (promise._state === null) {\n    promise._listeners.push(listener);\n\n    return;\n  }\n\n  var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n\n  if (cb === null) {\n    return (promise._state ? listener.resolve : listener.reject)(promise._value);\n  }\n\n  ++listener.psd.ref;\n  ++numScheduledCalls;\n  asap$1(callListener, [cb, promise, listener]);\n}\n\nfunction callListener(cb, promise, listener) {\n  try {\n    currentFulfiller = promise;\n    var ret,\n        value = promise._value;\n\n    if (promise._state) {\n      ret = cb(value);\n    } else {\n      if (rejectingErrors.length) rejectingErrors = [];\n      ret = cb(value);\n      if (rejectingErrors.indexOf(value) === -1) markErrorAsHandled(promise);\n    }\n\n    listener.resolve(ret);\n  } catch (e) {\n    listener.reject(e);\n  } finally {\n    currentFulfiller = null;\n    if (--numScheduledCalls === 0) finalizePhysicalTick();\n    --listener.psd.ref || listener.psd.finalize();\n  }\n}\n\nfunction getStack(promise, stacks, limit) {\n  if (stacks.length === limit) return stacks;\n  var stack = \"\";\n\n  if (promise._state === false) {\n    var failure = promise._value,\n        errorName,\n        message;\n\n    if (failure != null) {\n      errorName = failure.name || \"Error\";\n      message = failure.message || failure;\n      stack = prettyStack(failure, 0);\n    } else {\n      errorName = failure;\n      message = \"\";\n    }\n\n    stacks.push(errorName + (message ? \": \" + message : \"\") + stack);\n  }\n\n  if (debug) {\n    stack = prettyStack(promise._stackHolder, 2);\n    if (stack && stacks.indexOf(stack) === -1) stacks.push(stack);\n    if (promise._prev) getStack(promise._prev, stacks, limit);\n  }\n\n  return stacks;\n}\n\nfunction linkToPreviousPromise(promise, prev) {\n  var numPrev = prev ? prev._numPrev + 1 : 0;\n\n  if (numPrev < LONG_STACKS_CLIP_LIMIT) {\n    promise._prev = prev;\n    promise._numPrev = numPrev;\n  }\n}\n\nfunction physicalTick() {\n  beginMicroTickScope() && endMicroTickScope();\n}\n\nfunction beginMicroTickScope() {\n  var wasRootExec = isOutsideMicroTick;\n  isOutsideMicroTick = false;\n  needsNewPhysicalTick = false;\n  return wasRootExec;\n}\n\nfunction endMicroTickScope() {\n  var callbacks, i, l;\n\n  do {\n    while (microtickQueue.length > 0) {\n      callbacks = microtickQueue;\n      microtickQueue = [];\n      l = callbacks.length;\n\n      for (i = 0; i < l; ++i) {\n        var item = callbacks[i];\n        item[0].apply(null, item[1]);\n      }\n    }\n  } while (microtickQueue.length > 0);\n\n  isOutsideMicroTick = true;\n  needsNewPhysicalTick = true;\n}\n\nfunction finalizePhysicalTick() {\n  var unhandledErrs = unhandledErrors;\n  unhandledErrors = [];\n  unhandledErrs.forEach(function (p) {\n    p._PSD.onunhandled.call(null, p._value, p);\n  });\n  var finalizers = tickFinalizers.slice(0);\n  var i = finalizers.length;\n\n  while (i) {\n    finalizers[--i]();\n  }\n}\n\nfunction run_at_end_of_this_or_next_physical_tick(fn) {\n  function finalizer() {\n    fn();\n    tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n  }\n\n  tickFinalizers.push(finalizer);\n  ++numScheduledCalls;\n  asap$1(function () {\n    if (--numScheduledCalls === 0) finalizePhysicalTick();\n  }, []);\n}\n\nfunction addPossiblyUnhandledError(promise) {\n  if (!unhandledErrors.some(function (p) {\n    return p._value === promise._value;\n  })) unhandledErrors.push(promise);\n}\n\nfunction markErrorAsHandled(promise) {\n  var i = unhandledErrors.length;\n\n  while (i) {\n    if (unhandledErrors[--i]._value === promise._value) {\n      unhandledErrors.splice(i, 1);\n      return;\n    }\n  }\n}\n\nfunction PromiseReject(reason) {\n  return new DexiePromise(INTERNAL, false, reason);\n}\n\nfunction wrap(fn, errorCatcher) {\n  var psd = PSD;\n  return function () {\n    var wasRootExec = beginMicroTickScope(),\n        outerScope = PSD;\n\n    try {\n      switchToZone(psd, true);\n      return fn.apply(this, arguments);\n    } catch (e) {\n      errorCatcher && errorCatcher(e);\n    } finally {\n      switchToZone(outerScope, false);\n      if (wasRootExec) endMicroTickScope();\n    }\n  };\n}\n\nvar task = {\n  awaits: 0,\n  echoes: 0,\n  id: 0\n};\nvar taskCounter = 0;\nvar zoneStack = [];\nvar zoneEchoes = 0;\nvar totalEchoes = 0;\nvar zone_id_counter = 0;\n\nfunction newScope(fn, props$$1, a1, a2) {\n  var parent = PSD,\n      psd = Object.create(parent);\n  psd.parent = parent;\n  psd.ref = 0;\n  psd.global = false;\n  psd.id = ++zone_id_counter;\n  var globalEnv = globalPSD.env;\n  psd.env = patchGlobalPromise ? {\n    Promise: DexiePromise,\n    PromiseProp: {\n      value: DexiePromise,\n      configurable: true,\n      writable: true\n    },\n    all: DexiePromise.all,\n    race: DexiePromise.race,\n    allSettled: DexiePromise.allSettled,\n    any: DexiePromise.any,\n    resolve: DexiePromise.resolve,\n    reject: DexiePromise.reject,\n    nthen: getPatchedPromiseThen(globalEnv.nthen, psd),\n    gthen: getPatchedPromiseThen(globalEnv.gthen, psd)\n  } : {};\n  if (props$$1) extend(psd, props$$1);\n  ++parent.ref;\n\n  psd.finalize = function () {\n    --this.parent.ref || this.parent.finalize();\n  };\n\n  var rv = usePSD(psd, fn, a1, a2);\n  if (psd.ref === 0) psd.finalize();\n  return rv;\n}\n\nfunction incrementExpectedAwaits() {\n  if (!task.id) task.id = ++taskCounter;\n  ++task.awaits;\n  task.echoes += ZONE_ECHO_LIMIT;\n  return task.id;\n}\n\nfunction decrementExpectedAwaits() {\n  if (!task.awaits) return false;\n  if (--task.awaits === 0) task.id = 0;\n  task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n  return true;\n}\n\nif (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n  incrementExpectedAwaits = decrementExpectedAwaits = nop;\n}\n\nfunction onPossibleParallellAsync(possiblePromise) {\n  if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n    incrementExpectedAwaits();\n    return possiblePromise.then(function (x) {\n      decrementExpectedAwaits();\n      return x;\n    }, function (e) {\n      decrementExpectedAwaits();\n      return rejection(e);\n    });\n  }\n\n  return possiblePromise;\n}\n\nfunction zoneEnterEcho(targetZone) {\n  ++totalEchoes;\n\n  if (!task.echoes || --task.echoes === 0) {\n    task.echoes = task.id = 0;\n  }\n\n  zoneStack.push(PSD);\n  switchToZone(targetZone, true);\n}\n\nfunction zoneLeaveEcho() {\n  var zone = zoneStack[zoneStack.length - 1];\n  zoneStack.pop();\n  switchToZone(zone, false);\n}\n\nfunction switchToZone(targetZone, bEnteringZone) {\n  var currentZone = PSD;\n\n  if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (! --zoneEchoes || targetZone !== PSD)) {\n    enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n  }\n\n  if (targetZone === PSD) return;\n  PSD = targetZone;\n  if (currentZone === globalPSD) globalPSD.env = snapShot();\n\n  if (patchGlobalPromise) {\n    var GlobalPromise_1 = globalPSD.env.Promise;\n    var targetEnv = targetZone.env;\n    nativePromiseProto.then = targetEnv.nthen;\n    GlobalPromise_1.prototype.then = targetEnv.gthen;\n\n    if (currentZone.global || targetZone.global) {\n      Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n      GlobalPromise_1.all = targetEnv.all;\n      GlobalPromise_1.race = targetEnv.race;\n      GlobalPromise_1.resolve = targetEnv.resolve;\n      GlobalPromise_1.reject = targetEnv.reject;\n      if (targetEnv.allSettled) GlobalPromise_1.allSettled = targetEnv.allSettled;\n      if (targetEnv.any) GlobalPromise_1.any = targetEnv.any;\n    }\n  }\n}\n\nfunction snapShot() {\n  var GlobalPromise = _global.Promise;\n  return patchGlobalPromise ? {\n    Promise: GlobalPromise,\n    PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n    all: GlobalPromise.all,\n    race: GlobalPromise.race,\n    allSettled: GlobalPromise.allSettled,\n    any: GlobalPromise.any,\n    resolve: GlobalPromise.resolve,\n    reject: GlobalPromise.reject,\n    nthen: nativePromiseProto.then,\n    gthen: GlobalPromise.prototype.then\n  } : {};\n}\n\nfunction usePSD(psd, fn, a1, a2, a3) {\n  var outerScope = PSD;\n\n  try {\n    switchToZone(psd, true);\n    return fn(a1, a2, a3);\n  } finally {\n    switchToZone(outerScope, false);\n  }\n}\n\nfunction enqueueNativeMicroTask(job) {\n  nativePromiseThen.call(resolvedNativePromise, job);\n}\n\nfunction nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n  return typeof fn !== 'function' ? fn : function () {\n    var outerZone = PSD;\n    if (possibleAwait) incrementExpectedAwaits();\n    switchToZone(zone, true);\n\n    try {\n      return fn.apply(this, arguments);\n    } finally {\n      switchToZone(outerZone, false);\n      if (cleanup) enqueueNativeMicroTask(decrementExpectedAwaits);\n    }\n  };\n}\n\nfunction getPatchedPromiseThen(origThen, zone) {\n  return function (onResolved, onRejected) {\n    return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone), nativeAwaitCompatibleWrap(onRejected, zone));\n  };\n}\n\nvar UNHANDLEDREJECTION = \"unhandledrejection\";\n\nfunction globalError(err, promise) {\n  var rv;\n\n  try {\n    rv = promise.onuncatched(err);\n  } catch (e) {}\n\n  if (rv !== false) try {\n    var event,\n        eventData = {\n      promise: promise,\n      reason: err\n    };\n\n    if (_global.document && document.createEvent) {\n      event = document.createEvent('Event');\n      event.initEvent(UNHANDLEDREJECTION, true, true);\n      extend(event, eventData);\n    } else if (_global.CustomEvent) {\n      event = new CustomEvent(UNHANDLEDREJECTION, {\n        detail: eventData\n      });\n      extend(event, eventData);\n    }\n\n    if (event && _global.dispatchEvent) {\n      dispatchEvent(event);\n      if (!_global.PromiseRejectionEvent && _global.onunhandledrejection) try {\n        _global.onunhandledrejection(event);\n      } catch (_) {}\n    }\n\n    if (debug && event && !event.defaultPrevented) {\n      console.warn(\"Unhandled rejection: \" + (err.stack || err));\n    }\n  } catch (e) {}\n}\n\nvar rejection = DexiePromise.reject;\n\nfunction tempTransaction(db, mode, storeNames, fn) {\n  if (!db._state.openComplete && !PSD.letThrough) {\n    if (!db._state.isBeingOpened) {\n      if (!db._options.autoOpen) return rejection(new exceptions.DatabaseClosed());\n      db.open().catch(nop);\n    }\n\n    return db._state.dbReadyPromise.then(function () {\n      return tempTransaction(db, mode, storeNames, fn);\n    });\n  } else {\n    var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n\n    try {\n      trans.create();\n    } catch (ex) {\n      return rejection(ex);\n    }\n\n    return trans._promise(mode, function (resolve, reject) {\n      return newScope(function () {\n        PSD.trans = trans;\n        return fn(resolve, reject, trans);\n      });\n    }).then(function (result) {\n      return trans._completion.then(function () {\n        return result;\n      });\n    });\n  }\n}\n\nvar DEXIE_VERSION = '3.0.3';\nvar maxString = String.fromCharCode(65535);\nvar minKey = -Infinity;\nvar INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\nvar STRING_EXPECTED = \"String expected.\";\nvar connections = [];\nvar isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);\nvar hasIEDeleteObjectStoreBug = isIEOrEdge;\nvar hangsOnDeleteLargeKeyRange = isIEOrEdge;\n\nvar dexieStackFrameFilter = function dexieStackFrameFilter(frame) {\n  return !/(dexie\\.js|dexie\\.min\\.js)/.test(frame);\n};\n\nvar DBNAMES_DB = '__dbnames';\nvar READONLY = 'readonly';\nvar READWRITE = 'readwrite';\n\nfunction combine(filter1, filter2) {\n  return filter1 ? filter2 ? function () {\n    return filter1.apply(this, arguments) && filter2.apply(this, arguments);\n  } : filter1 : filter2;\n}\n\nvar AnyRange = {\n  type: 3,\n  lower: -Infinity,\n  lowerOpen: false,\n  upper: [[]],\n  upperOpen: false\n};\n\nfunction workaroundForUndefinedPrimKey(keyPath) {\n  return function (obj) {\n    if (getByKeyPath(obj, keyPath) === undefined) {\n      obj = deepClone(obj);\n      delByKeyPath(obj, keyPath);\n    }\n\n    return obj;\n  };\n}\n\nvar Table = function () {\n  function Table() {}\n\n  Table.prototype._trans = function (mode, fn, writeLocked) {\n    var trans = this._tx || PSD.trans;\n    var tableName = this.name;\n\n    function checkTableInTransaction(resolve, reject, trans) {\n      if (!trans.schema[tableName]) throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n      return fn(trans.idbtrans, trans);\n    }\n\n    var wasRootExec = beginMicroTickScope();\n\n    try {\n      return trans && trans.db === this.db ? trans === PSD.trans ? trans._promise(mode, checkTableInTransaction, writeLocked) : newScope(function () {\n        return trans._promise(mode, checkTableInTransaction, writeLocked);\n      }, {\n        trans: trans,\n        transless: PSD.transless || PSD\n      }) : tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n    } finally {\n      if (wasRootExec) endMicroTickScope();\n    }\n  };\n\n  Table.prototype.get = function (keyOrCrit, cb) {\n    var _this = this;\n\n    if (keyOrCrit && keyOrCrit.constructor === Object) return this.where(keyOrCrit).first(cb);\n    return this._trans('readonly', function (trans) {\n      return _this.core.get({\n        trans: trans,\n        key: keyOrCrit\n      }).then(function (res) {\n        return _this.hook.reading.fire(res);\n      });\n    }).then(cb);\n  };\n\n  Table.prototype.where = function (indexOrCrit) {\n    if (typeof indexOrCrit === 'string') return new this.db.WhereClause(this, indexOrCrit);\n    if (isArray(indexOrCrit)) return new this.db.WhereClause(this, \"[\" + indexOrCrit.join('+') + \"]\");\n    var keyPaths = keys(indexOrCrit);\n    if (keyPaths.length === 1) return this.where(keyPaths[0]).equals(indexOrCrit[keyPaths[0]]);\n    var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n      return ix.compound && keyPaths.every(function (keyPath) {\n        return ix.keyPath.indexOf(keyPath) >= 0;\n      }) && ix.keyPath.every(function (keyPath) {\n        return keyPaths.indexOf(keyPath) >= 0;\n      });\n    })[0];\n    if (compoundIndex && this.db._maxKey !== maxString) return this.where(compoundIndex.name).equals(compoundIndex.keyPath.map(function (kp) {\n      return indexOrCrit[kp];\n    }));\n    if (!compoundIndex && debug) console.warn(\"The query \" + JSON.stringify(indexOrCrit) + \" on \" + this.name + \" would benefit of a \" + (\"compound index [\" + keyPaths.join('+') + \"]\"));\n    var idxByName = this.schema.idxByName;\n    var idb = this.db._deps.indexedDB;\n\n    function equals(a, b) {\n      try {\n        return idb.cmp(a, b) === 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var _a = keyPaths.reduce(function (_a, keyPath) {\n      var prevIndex = _a[0],\n          prevFilterFn = _a[1];\n      var index = idxByName[keyPath];\n      var value = indexOrCrit[keyPath];\n      return [prevIndex || index, prevIndex || !index ? combine(prevFilterFn, index && index.multi ? function (x) {\n        var prop = getByKeyPath(x, keyPath);\n        return isArray(prop) && prop.some(function (item) {\n          return equals(value, item);\n        });\n      } : function (x) {\n        return equals(value, getByKeyPath(x, keyPath));\n      }) : prevFilterFn];\n    }, [null, null]),\n        idx = _a[0],\n        filterFunction = _a[1];\n\n    return idx ? this.where(idx.name).equals(indexOrCrit[idx.keyPath]).filter(filterFunction) : compoundIndex ? this.filter(filterFunction) : this.where(keyPaths).equals('');\n  };\n\n  Table.prototype.filter = function (filterFunction) {\n    return this.toCollection().and(filterFunction);\n  };\n\n  Table.prototype.count = function (thenShortcut) {\n    return this.toCollection().count(thenShortcut);\n  };\n\n  Table.prototype.offset = function (offset) {\n    return this.toCollection().offset(offset);\n  };\n\n  Table.prototype.limit = function (numRows) {\n    return this.toCollection().limit(numRows);\n  };\n\n  Table.prototype.each = function (callback) {\n    return this.toCollection().each(callback);\n  };\n\n  Table.prototype.toArray = function (thenShortcut) {\n    return this.toCollection().toArray(thenShortcut);\n  };\n\n  Table.prototype.toCollection = function () {\n    return new this.db.Collection(new this.db.WhereClause(this));\n  };\n\n  Table.prototype.orderBy = function (index) {\n    return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ? \"[\" + index.join('+') + \"]\" : index));\n  };\n\n  Table.prototype.reverse = function () {\n    return this.toCollection().reverse();\n  };\n\n  Table.prototype.mapToClass = function (constructor) {\n    this.schema.mappedClass = constructor;\n\n    var readHook = function readHook(obj) {\n      if (!obj) return obj;\n      var res = Object.create(constructor.prototype);\n\n      for (var m in obj) {\n        if (hasOwn(obj, m)) try {\n          res[m] = obj[m];\n        } catch (_) {}\n      }\n\n      return res;\n    };\n\n    if (this.schema.readHook) {\n      this.hook.reading.unsubscribe(this.schema.readHook);\n    }\n\n    this.schema.readHook = readHook;\n    this.hook(\"reading\", readHook);\n    return constructor;\n  };\n\n  Table.prototype.defineClass = function () {\n    function Class(content) {\n      extend(this, content);\n    }\n\n    return this.mapToClass(Class);\n  };\n\n  Table.prototype.add = function (obj, key) {\n    var _this = this;\n\n    var _a = this.schema.primKey,\n        auto = _a.auto,\n        keyPath = _a.keyPath;\n    var objToAdd = obj;\n\n    if (keyPath && auto) {\n      objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n    }\n\n    return this._trans('readwrite', function (trans) {\n      return _this.core.mutate({\n        trans: trans,\n        type: 'add',\n        keys: key != null ? [key] : null,\n        values: [objToAdd]\n      });\n    }).then(function (res) {\n      return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult;\n    }).then(function (lastResult) {\n      if (keyPath) {\n        try {\n          setByKeyPath(obj, keyPath, lastResult);\n        } catch (_) {}\n      }\n\n      return lastResult;\n    });\n  };\n\n  Table.prototype.update = function (keyOrObject, modifications) {\n    if (typeof modifications !== 'object' || isArray(modifications)) throw new exceptions.InvalidArgument(\"Modifications must be an object.\");\n\n    if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n      keys(modifications).forEach(function (keyPath) {\n        setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);\n      });\n      var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n      if (key === undefined) return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n      return this.where(\":id\").equals(key).modify(modifications);\n    } else {\n      return this.where(\":id\").equals(keyOrObject).modify(modifications);\n    }\n  };\n\n  Table.prototype.put = function (obj, key) {\n    var _this = this;\n\n    var _a = this.schema.primKey,\n        auto = _a.auto,\n        keyPath = _a.keyPath;\n    var objToAdd = obj;\n\n    if (keyPath && auto) {\n      objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n    }\n\n    return this._trans('readwrite', function (trans) {\n      return _this.core.mutate({\n        trans: trans,\n        type: 'put',\n        values: [objToAdd],\n        keys: key != null ? [key] : null\n      });\n    }).then(function (res) {\n      return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult;\n    }).then(function (lastResult) {\n      if (keyPath) {\n        try {\n          setByKeyPath(obj, keyPath, lastResult);\n        } catch (_) {}\n      }\n\n      return lastResult;\n    });\n  };\n\n  Table.prototype.delete = function (key) {\n    var _this = this;\n\n    return this._trans('readwrite', function (trans) {\n      return _this.core.mutate({\n        trans: trans,\n        type: 'delete',\n        keys: [key]\n      });\n    }).then(function (res) {\n      return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined;\n    });\n  };\n\n  Table.prototype.clear = function () {\n    var _this = this;\n\n    return this._trans('readwrite', function (trans) {\n      return _this.core.mutate({\n        trans: trans,\n        type: 'deleteRange',\n        range: AnyRange\n      });\n    }).then(function (res) {\n      return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined;\n    });\n  };\n\n  Table.prototype.bulkGet = function (keys$$1) {\n    var _this = this;\n\n    return this._trans('readonly', function (trans) {\n      return _this.core.getMany({\n        keys: keys$$1,\n        trans: trans\n      }).then(function (result) {\n        return result.map(function (res) {\n          return _this.hook.reading.fire(res);\n        });\n      });\n    });\n  };\n\n  Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n    var _this = this;\n\n    var keys$$1 = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n    options = options || (keys$$1 ? undefined : keysOrOptions);\n    var wantResults = options ? options.allKeys : undefined;\n    return this._trans('readwrite', function (trans) {\n      var _a = _this.schema.primKey,\n          auto = _a.auto,\n          keyPath = _a.keyPath;\n      if (keyPath && keys$$1) throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n      if (keys$$1 && keys$$1.length !== objects.length) throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n      var numObjects = objects.length;\n      var objectsToAdd = keyPath && auto ? objects.map(workaroundForUndefinedPrimKey(keyPath)) : objects;\n      return _this.core.mutate({\n        trans: trans,\n        type: 'add',\n        keys: keys$$1,\n        values: objectsToAdd,\n        wantResults: wantResults\n      }).then(function (_a) {\n        var numFailures = _a.numFailures,\n            results = _a.results,\n            lastResult = _a.lastResult,\n            failures = _a.failures;\n        var result = wantResults ? results : lastResult;\n        if (numFailures === 0) return result;\n        throw new BulkError(_this.name + \".bulkAdd(): \" + numFailures + \" of \" + numObjects + \" operations failed\", Object.keys(failures).map(function (pos) {\n          return failures[pos];\n        }));\n      });\n    });\n  };\n\n  Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n    var _this = this;\n\n    var keys$$1 = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n    options = options || (keys$$1 ? undefined : keysOrOptions);\n    var wantResults = options ? options.allKeys : undefined;\n    return this._trans('readwrite', function (trans) {\n      var _a = _this.schema.primKey,\n          auto = _a.auto,\n          keyPath = _a.keyPath;\n      if (keyPath && keys$$1) throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n      if (keys$$1 && keys$$1.length !== objects.length) throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n      var numObjects = objects.length;\n      var objectsToPut = keyPath && auto ? objects.map(workaroundForUndefinedPrimKey(keyPath)) : objects;\n      return _this.core.mutate({\n        trans: trans,\n        type: 'put',\n        keys: keys$$1,\n        values: objectsToPut,\n        wantResults: wantResults\n      }).then(function (_a) {\n        var numFailures = _a.numFailures,\n            results = _a.results,\n            lastResult = _a.lastResult,\n            failures = _a.failures;\n        var result = wantResults ? results : lastResult;\n        if (numFailures === 0) return result;\n        throw new BulkError(_this.name + \".bulkPut(): \" + numFailures + \" of \" + numObjects + \" operations failed\", Object.keys(failures).map(function (pos) {\n          return failures[pos];\n        }));\n      });\n    });\n  };\n\n  Table.prototype.bulkDelete = function (keys$$1) {\n    var _this = this;\n\n    var numKeys = keys$$1.length;\n    return this._trans('readwrite', function (trans) {\n      return _this.core.mutate({\n        trans: trans,\n        type: 'delete',\n        keys: keys$$1\n      });\n    }).then(function (_a) {\n      var numFailures = _a.numFailures,\n          lastResult = _a.lastResult,\n          failures = _a.failures;\n      if (numFailures === 0) return lastResult;\n      throw new BulkError(_this.name + \".bulkDelete(): \" + numFailures + \" of \" + numKeys + \" operations failed\", failures);\n    });\n  };\n\n  return Table;\n}();\n\nfunction Events(ctx) {\n  var evs = {};\n\n  var rv = function rv(eventName, subscriber) {\n    if (subscriber) {\n      var i = arguments.length,\n          args = new Array(i - 1);\n\n      while (--i) {\n        args[i - 1] = arguments[i];\n      }\n\n      evs[eventName].subscribe.apply(null, args);\n      return ctx;\n    } else if (typeof eventName === 'string') {\n      return evs[eventName];\n    }\n  };\n\n  rv.addEventType = add;\n\n  for (var i = 1, l = arguments.length; i < l; ++i) {\n    add(arguments[i]);\n  }\n\n  return rv;\n\n  function add(eventName, chainFunction, defaultFunction) {\n    if (typeof eventName === 'object') return addConfiguredEvents(eventName);\n    if (!chainFunction) chainFunction = reverseStoppableEventChain;\n    if (!defaultFunction) defaultFunction = nop;\n    var context = {\n      subscribers: [],\n      fire: defaultFunction,\n      subscribe: function subscribe(cb) {\n        if (context.subscribers.indexOf(cb) === -1) {\n          context.subscribers.push(cb);\n          context.fire = chainFunction(context.fire, cb);\n        }\n      },\n      unsubscribe: function unsubscribe(cb) {\n        context.subscribers = context.subscribers.filter(function (fn) {\n          return fn !== cb;\n        });\n        context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n      }\n    };\n    evs[eventName] = rv[eventName] = context;\n    return context;\n  }\n\n  function addConfiguredEvents(cfg) {\n    keys(cfg).forEach(function (eventName) {\n      var args = cfg[eventName];\n\n      if (isArray(args)) {\n        add(eventName, cfg[eventName][0], cfg[eventName][1]);\n      } else if (args === 'asap') {\n        var context = add(eventName, mirror, function fire() {\n          var i = arguments.length,\n              args = new Array(i);\n\n          while (i--) {\n            args[i] = arguments[i];\n          }\n\n          context.subscribers.forEach(function (fn) {\n            asap(function fireEvent() {\n              fn.apply(null, args);\n            });\n          });\n        });\n      } else throw new exceptions.InvalidArgument(\"Invalid event config\");\n    });\n  }\n}\n\nfunction makeClassConstructor(prototype, constructor) {\n  derive(constructor).from({\n    prototype: prototype\n  });\n  return constructor;\n}\n\nfunction createTableConstructor(db) {\n  return makeClassConstructor(Table.prototype, function Table$$1(name, tableSchema, trans) {\n    this.db = db;\n    this._tx = trans;\n    this.name = name;\n    this.schema = tableSchema;\n    this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n      \"creating\": [hookCreatingChain, nop],\n      \"reading\": [pureFunctionChain, mirror],\n      \"updating\": [hookUpdatingChain, nop],\n      \"deleting\": [hookDeletingChain, nop]\n    });\n  });\n}\n\nfunction isPlainKeyRange(ctx, ignoreLimitFilter) {\n  return !(ctx.filter || ctx.algorithm || ctx.or) && (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n}\n\nfunction addFilter(ctx, fn) {\n  ctx.filter = combine(ctx.filter, fn);\n}\n\nfunction addReplayFilter(ctx, factory, isLimitFilter) {\n  var curr = ctx.replayFilter;\n  ctx.replayFilter = curr ? function () {\n    return combine(curr(), factory());\n  } : factory;\n  ctx.justLimit = isLimitFilter && !curr;\n}\n\nfunction addMatchFilter(ctx, fn) {\n  ctx.isMatch = combine(ctx.isMatch, fn);\n}\n\nfunction getIndexOrStore(ctx, coreSchema) {\n  if (ctx.isPrimKey) return coreSchema.primaryKey;\n  var index = coreSchema.getIndexByKeyPath(ctx.index);\n  if (!index) throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n  return index;\n}\n\nfunction openCursor(ctx, coreTable, trans) {\n  var index = getIndexOrStore(ctx, coreTable.schema);\n  return coreTable.openCursor({\n    trans: trans,\n    values: !ctx.keysOnly,\n    reverse: ctx.dir === 'prev',\n    unique: !!ctx.unique,\n    query: {\n      index: index,\n      range: ctx.range\n    }\n  });\n}\n\nfunction iter(ctx, fn, coreTrans, coreTable) {\n  var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n\n  if (!ctx.or) {\n    return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n  } else {\n    var set_1 = {};\n\n    var union = function union(item, cursor, advance) {\n      if (!filter || filter(cursor, advance, function (result) {\n        return cursor.stop(result);\n      }, function (err) {\n        return cursor.fail(err);\n      })) {\n        var primaryKey = cursor.primaryKey;\n        var key = '' + primaryKey;\n        if (key === '[object ArrayBuffer]') key = '' + new Uint8Array(primaryKey);\n\n        if (!hasOwn(set_1, key)) {\n          set_1[key] = true;\n          fn(item, cursor, advance);\n        }\n      }\n    };\n\n    return Promise.all([ctx.or._iterate(union, coreTrans), iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)]);\n  }\n}\n\nfunction iterate(cursorPromise, filter, fn, valueMapper) {\n  var mappedFn = valueMapper ? function (x, c, a) {\n    return fn(valueMapper(x), c, a);\n  } : fn;\n  var wrappedFn = wrap(mappedFn);\n  return cursorPromise.then(function (cursor) {\n    if (cursor) {\n      return cursor.start(function () {\n        var c = function c() {\n          return cursor.continue();\n        };\n\n        if (!filter || filter(cursor, function (advancer) {\n          return c = advancer;\n        }, function (val) {\n          cursor.stop(val);\n          c = nop;\n        }, function (e) {\n          cursor.fail(e);\n          c = nop;\n        })) wrappedFn(cursor.value, cursor, function (advancer) {\n          return c = advancer;\n        });\n        c();\n      });\n    }\n  });\n}\n\nvar Collection = function () {\n  function Collection() {}\n\n  Collection.prototype._read = function (fn, cb) {\n    var ctx = this._ctx;\n    return ctx.error ? ctx.table._trans(null, rejection.bind(null, ctx.error)) : ctx.table._trans('readonly', fn).then(cb);\n  };\n\n  Collection.prototype._write = function (fn) {\n    var ctx = this._ctx;\n    return ctx.error ? ctx.table._trans(null, rejection.bind(null, ctx.error)) : ctx.table._trans('readwrite', fn, \"locked\");\n  };\n\n  Collection.prototype._addAlgorithm = function (fn) {\n    var ctx = this._ctx;\n    ctx.algorithm = combine(ctx.algorithm, fn);\n  };\n\n  Collection.prototype._iterate = function (fn, coreTrans) {\n    return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n  };\n\n  Collection.prototype.clone = function (props$$1) {\n    var rv = Object.create(this.constructor.prototype),\n        ctx = Object.create(this._ctx);\n    if (props$$1) extend(ctx, props$$1);\n    rv._ctx = ctx;\n    return rv;\n  };\n\n  Collection.prototype.raw = function () {\n    this._ctx.valueMapper = null;\n    return this;\n  };\n\n  Collection.prototype.each = function (fn) {\n    var ctx = this._ctx;\n    return this._read(function (trans) {\n      return iter(ctx, fn, trans, ctx.table.core);\n    });\n  };\n\n  Collection.prototype.count = function (cb) {\n    var _this = this;\n\n    return this._read(function (trans) {\n      var ctx = _this._ctx;\n      var coreTable = ctx.table.core;\n\n      if (isPlainKeyRange(ctx, true)) {\n        return coreTable.count({\n          trans: trans,\n          query: {\n            index: getIndexOrStore(ctx, coreTable.schema),\n            range: ctx.range\n          }\n        }).then(function (count) {\n          return Math.min(count, ctx.limit);\n        });\n      } else {\n        var count = 0;\n        return iter(ctx, function () {\n          ++count;\n          return false;\n        }, trans, coreTable).then(function () {\n          return count;\n        });\n      }\n    }).then(cb);\n  };\n\n  Collection.prototype.sortBy = function (keyPath, cb) {\n    var parts = keyPath.split('.').reverse(),\n        lastPart = parts[0],\n        lastIndex = parts.length - 1;\n\n    function getval(obj, i) {\n      if (i) return getval(obj[parts[i]], i - 1);\n      return obj[lastPart];\n    }\n\n    var order = this._ctx.dir === \"next\" ? 1 : -1;\n\n    function sorter(a, b) {\n      var aVal = getval(a, lastIndex),\n          bVal = getval(b, lastIndex);\n      return aVal < bVal ? -order : aVal > bVal ? order : 0;\n    }\n\n    return this.toArray(function (a) {\n      return a.sort(sorter);\n    }).then(cb);\n  };\n\n  Collection.prototype.toArray = function (cb) {\n    var _this = this;\n\n    return this._read(function (trans) {\n      var ctx = _this._ctx;\n\n      if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n        var valueMapper_1 = ctx.valueMapper;\n        var index = getIndexOrStore(ctx, ctx.table.core.schema);\n        return ctx.table.core.query({\n          trans: trans,\n          limit: ctx.limit,\n          values: true,\n          query: {\n            index: index,\n            range: ctx.range\n          }\n        }).then(function (_a) {\n          var result = _a.result;\n          return valueMapper_1 ? result.map(valueMapper_1) : result;\n        });\n      } else {\n        var a_1 = [];\n        return iter(ctx, function (item) {\n          return a_1.push(item);\n        }, trans, ctx.table.core).then(function () {\n          return a_1;\n        });\n      }\n    }, cb);\n  };\n\n  Collection.prototype.offset = function (offset) {\n    var ctx = this._ctx;\n    if (offset <= 0) return this;\n    ctx.offset += offset;\n\n    if (isPlainKeyRange(ctx)) {\n      addReplayFilter(ctx, function () {\n        var offsetLeft = offset;\n        return function (cursor, advance) {\n          if (offsetLeft === 0) return true;\n\n          if (offsetLeft === 1) {\n            --offsetLeft;\n            return false;\n          }\n\n          advance(function () {\n            cursor.advance(offsetLeft);\n            offsetLeft = 0;\n          });\n          return false;\n        };\n      });\n    } else {\n      addReplayFilter(ctx, function () {\n        var offsetLeft = offset;\n        return function () {\n          return --offsetLeft < 0;\n        };\n      });\n    }\n\n    return this;\n  };\n\n  Collection.prototype.limit = function (numRows) {\n    this._ctx.limit = Math.min(this._ctx.limit, numRows);\n    addReplayFilter(this._ctx, function () {\n      var rowsLeft = numRows;\n      return function (cursor, advance, resolve) {\n        if (--rowsLeft <= 0) advance(resolve);\n        return rowsLeft >= 0;\n      };\n    }, true);\n    return this;\n  };\n\n  Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n    addFilter(this._ctx, function (cursor, advance, resolve) {\n      if (filterFunction(cursor.value)) {\n        advance(resolve);\n        return bIncludeStopEntry;\n      } else {\n        return true;\n      }\n    });\n    return this;\n  };\n\n  Collection.prototype.first = function (cb) {\n    return this.limit(1).toArray(function (a) {\n      return a[0];\n    }).then(cb);\n  };\n\n  Collection.prototype.last = function (cb) {\n    return this.reverse().first(cb);\n  };\n\n  Collection.prototype.filter = function (filterFunction) {\n    addFilter(this._ctx, function (cursor) {\n      return filterFunction(cursor.value);\n    });\n    addMatchFilter(this._ctx, filterFunction);\n    return this;\n  };\n\n  Collection.prototype.and = function (filter) {\n    return this.filter(filter);\n  };\n\n  Collection.prototype.or = function (indexName) {\n    return new this.db.WhereClause(this._ctx.table, indexName, this);\n  };\n\n  Collection.prototype.reverse = function () {\n    this._ctx.dir = this._ctx.dir === \"prev\" ? \"next\" : \"prev\";\n    if (this._ondirectionchange) this._ondirectionchange(this._ctx.dir);\n    return this;\n  };\n\n  Collection.prototype.desc = function () {\n    return this.reverse();\n  };\n\n  Collection.prototype.eachKey = function (cb) {\n    var ctx = this._ctx;\n    ctx.keysOnly = !ctx.isMatch;\n    return this.each(function (val, cursor) {\n      cb(cursor.key, cursor);\n    });\n  };\n\n  Collection.prototype.eachUniqueKey = function (cb) {\n    this._ctx.unique = \"unique\";\n    return this.eachKey(cb);\n  };\n\n  Collection.prototype.eachPrimaryKey = function (cb) {\n    var ctx = this._ctx;\n    ctx.keysOnly = !ctx.isMatch;\n    return this.each(function (val, cursor) {\n      cb(cursor.primaryKey, cursor);\n    });\n  };\n\n  Collection.prototype.keys = function (cb) {\n    var ctx = this._ctx;\n    ctx.keysOnly = !ctx.isMatch;\n    var a = [];\n    return this.each(function (item, cursor) {\n      a.push(cursor.key);\n    }).then(function () {\n      return a;\n    }).then(cb);\n  };\n\n  Collection.prototype.primaryKeys = function (cb) {\n    var ctx = this._ctx;\n\n    if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n      return this._read(function (trans) {\n        var index = getIndexOrStore(ctx, ctx.table.core.schema);\n        return ctx.table.core.query({\n          trans: trans,\n          values: false,\n          limit: ctx.limit,\n          query: {\n            index: index,\n            range: ctx.range\n          }\n        });\n      }).then(function (_a) {\n        var result = _a.result;\n        return result;\n      }).then(cb);\n    }\n\n    ctx.keysOnly = !ctx.isMatch;\n    var a = [];\n    return this.each(function (item, cursor) {\n      a.push(cursor.primaryKey);\n    }).then(function () {\n      return a;\n    }).then(cb);\n  };\n\n  Collection.prototype.uniqueKeys = function (cb) {\n    this._ctx.unique = \"unique\";\n    return this.keys(cb);\n  };\n\n  Collection.prototype.firstKey = function (cb) {\n    return this.limit(1).keys(function (a) {\n      return a[0];\n    }).then(cb);\n  };\n\n  Collection.prototype.lastKey = function (cb) {\n    return this.reverse().firstKey(cb);\n  };\n\n  Collection.prototype.distinct = function () {\n    var ctx = this._ctx,\n        idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n    if (!idx || !idx.multi) return this;\n    var set = {};\n    addFilter(this._ctx, function (cursor) {\n      var strKey = cursor.primaryKey.toString();\n      var found = hasOwn(set, strKey);\n      set[strKey] = true;\n      return !found;\n    });\n    return this;\n  };\n\n  Collection.prototype.modify = function (changes) {\n    var _this = this;\n\n    var ctx = this._ctx;\n    return this._write(function (trans) {\n      var modifyer;\n\n      if (typeof changes === 'function') {\n        modifyer = changes;\n      } else {\n        var keyPaths = keys(changes);\n        var numKeys = keyPaths.length;\n\n        modifyer = function modifyer(item) {\n          var anythingModified = false;\n\n          for (var i = 0; i < numKeys; ++i) {\n            var keyPath = keyPaths[i],\n                val = changes[keyPath];\n\n            if (getByKeyPath(item, keyPath) !== val) {\n              setByKeyPath(item, keyPath, val);\n              anythingModified = true;\n            }\n          }\n\n          return anythingModified;\n        };\n      }\n\n      var coreTable = ctx.table.core;\n      var _a = coreTable.schema.primaryKey,\n          outbound = _a.outbound,\n          extractKey = _a.extractKey;\n      var limit = 'testmode' in Dexie ? 1 : 2000;\n      var cmp = _this.db.core.cmp;\n      var totalFailures = [];\n      var successCount = 0;\n      var failedKeys = [];\n\n      var applyMutateResult = function applyMutateResult(expectedCount, res) {\n        var failures = res.failures,\n            numFailures = res.numFailures;\n        successCount += expectedCount - numFailures;\n\n        for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n          var pos = _a[_i];\n          totalFailures.push(failures[pos]);\n        }\n      };\n\n      return _this.clone().primaryKeys().then(function (keys$$1) {\n        var nextChunk = function nextChunk(offset) {\n          var count = Math.min(limit, keys$$1.length - offset);\n          return coreTable.getMany({\n            trans: trans,\n            keys: keys$$1.slice(offset, offset + count)\n          }).then(function (values) {\n            var addValues = [];\n            var putValues = [];\n            var putKeys = outbound ? [] : null;\n            var deleteKeys = [];\n\n            for (var i = 0; i < count; ++i) {\n              var origValue = values[i];\n              var ctx_1 = {\n                value: deepClone(origValue),\n                primKey: keys$$1[offset + i]\n              };\n\n              if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                if (ctx_1.value == null) {\n                  deleteKeys.push(keys$$1[offset + i]);\n                } else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                  deleteKeys.push(keys$$1[offset + i]);\n                  addValues.push(ctx_1.value);\n                } else {\n                  putValues.push(ctx_1.value);\n                  if (outbound) putKeys.push(keys$$1[offset + i]);\n                }\n              }\n            }\n\n            return Promise.resolve(addValues.length > 0 && coreTable.mutate({\n              trans: trans,\n              type: 'add',\n              values: addValues\n            }).then(function (res) {\n              for (var pos in res.failures) {\n                deleteKeys.splice(parseInt(pos), 1);\n              }\n\n              applyMutateResult(addValues.length, res);\n            })).then(function (res) {\n              return putValues.length > 0 && coreTable.mutate({\n                trans: trans,\n                type: 'put',\n                keys: putKeys,\n                values: putValues\n              }).then(function (res) {\n                return applyMutateResult(putValues.length, res);\n              });\n            }).then(function () {\n              return deleteKeys.length > 0 && coreTable.mutate({\n                trans: trans,\n                type: 'delete',\n                keys: deleteKeys\n              }).then(function (res) {\n                return applyMutateResult(deleteKeys.length, res);\n              });\n            }).then(function () {\n              return keys$$1.length > offset + count && nextChunk(offset + limit);\n            });\n          });\n        };\n\n        return nextChunk(0).then(function () {\n          if (totalFailures.length > 0) throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n          return keys$$1.length;\n        });\n      });\n    });\n  };\n\n  Collection.prototype.delete = function () {\n    var ctx = this._ctx,\n        range = ctx.range;\n\n    if (isPlainKeyRange(ctx) && (ctx.isPrimKey && !hangsOnDeleteLargeKeyRange || range.type === 3)) {\n      return this._write(function (trans) {\n        var primaryKey = ctx.table.core.schema.primaryKey;\n        var coreRange = range;\n        return ctx.table.core.count({\n          trans: trans,\n          query: {\n            index: primaryKey,\n            range: coreRange\n          }\n        }).then(function (count) {\n          return ctx.table.core.mutate({\n            trans: trans,\n            type: 'deleteRange',\n            range: coreRange\n          }).then(function (_a) {\n            var failures = _a.failures,\n                lastResult = _a.lastResult,\n                results = _a.results,\n                numFailures = _a.numFailures;\n            if (numFailures) throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) {\n              return failures[pos];\n            }), count - numFailures);\n            return count - numFailures;\n          });\n        });\n      });\n    }\n\n    return this.modify(function (value, ctx) {\n      return ctx.value = null;\n    });\n  };\n\n  return Collection;\n}();\n\nfunction createCollectionConstructor(db) {\n  return makeClassConstructor(Collection.prototype, function Collection$$1(whereClause, keyRangeGenerator) {\n    this.db = db;\n    var keyRange = AnyRange,\n        error = null;\n    if (keyRangeGenerator) try {\n      keyRange = keyRangeGenerator();\n    } catch (ex) {\n      error = ex;\n    }\n    var whereCtx = whereClause._ctx;\n    var table = whereCtx.table;\n    var readingHook = table.hook.reading.fire;\n    this._ctx = {\n      table: table,\n      index: whereCtx.index,\n      isPrimKey: !whereCtx.index || table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name,\n      range: keyRange,\n      keysOnly: false,\n      dir: \"next\",\n      unique: \"\",\n      algorithm: null,\n      filter: null,\n      replayFilter: null,\n      justLimit: true,\n      isMatch: null,\n      offset: 0,\n      limit: Infinity,\n      error: error,\n      or: whereCtx.or,\n      valueMapper: readingHook !== mirror ? readingHook : null\n    };\n  });\n}\n\nfunction simpleCompare(a, b) {\n  return a < b ? -1 : a === b ? 0 : 1;\n}\n\nfunction simpleCompareReverse(a, b) {\n  return a > b ? -1 : a === b ? 0 : 1;\n}\n\nfunction fail(collectionOrWhereClause, err, T) {\n  var collection = collectionOrWhereClause instanceof WhereClause ? new collectionOrWhereClause.Collection(collectionOrWhereClause) : collectionOrWhereClause;\n  collection._ctx.error = T ? new T(err) : new TypeError(err);\n  return collection;\n}\n\nfunction emptyCollection(whereClause) {\n  return new whereClause.Collection(whereClause, function () {\n    return rangeEqual(\"\");\n  }).limit(0);\n}\n\nfunction upperFactory(dir) {\n  return dir === \"next\" ? function (s) {\n    return s.toUpperCase();\n  } : function (s) {\n    return s.toLowerCase();\n  };\n}\n\nfunction lowerFactory(dir) {\n  return dir === \"next\" ? function (s) {\n    return s.toLowerCase();\n  } : function (s) {\n    return s.toUpperCase();\n  };\n}\n\nfunction nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n  var length = Math.min(key.length, lowerNeedle.length);\n  var llp = -1;\n\n  for (var i = 0; i < length; ++i) {\n    var lwrKeyChar = lowerKey[i];\n\n    if (lwrKeyChar !== lowerNeedle[i]) {\n      if (cmp(key[i], upperNeedle[i]) < 0) return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n      if (cmp(key[i], lowerNeedle[i]) < 0) return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n      if (llp >= 0) return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n      return null;\n    }\n\n    if (cmp(key[i], lwrKeyChar) < 0) llp = i;\n  }\n\n  if (length < lowerNeedle.length && dir === \"next\") return key + upperNeedle.substr(key.length);\n  if (length < key.length && dir === \"prev\") return key.substr(0, upperNeedle.length);\n  return llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1);\n}\n\nfunction addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n  var upper,\n      lower,\n      compare,\n      upperNeedles,\n      lowerNeedles,\n      direction,\n      nextKeySuffix,\n      needlesLen = needles.length;\n\n  if (!needles.every(function (s) {\n    return typeof s === 'string';\n  })) {\n    return fail(whereClause, STRING_EXPECTED);\n  }\n\n  function initDirection(dir) {\n    upper = upperFactory(dir);\n    lower = lowerFactory(dir);\n    compare = dir === \"next\" ? simpleCompare : simpleCompareReverse;\n    var needleBounds = needles.map(function (needle) {\n      return {\n        lower: lower(needle),\n        upper: upper(needle)\n      };\n    }).sort(function (a, b) {\n      return compare(a.lower, b.lower);\n    });\n    upperNeedles = needleBounds.map(function (nb) {\n      return nb.upper;\n    });\n    lowerNeedles = needleBounds.map(function (nb) {\n      return nb.lower;\n    });\n    direction = dir;\n    nextKeySuffix = dir === \"next\" ? \"\" : suffix;\n  }\n\n  initDirection(\"next\");\n  var c = new whereClause.Collection(whereClause, function () {\n    return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix);\n  });\n\n  c._ondirectionchange = function (direction) {\n    initDirection(direction);\n  };\n\n  var firstPossibleNeedle = 0;\n\n  c._addAlgorithm(function (cursor, advance, resolve) {\n    var key = cursor.key;\n    if (typeof key !== 'string') return false;\n    var lowerKey = lower(key);\n\n    if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n      return true;\n    } else {\n      var lowestPossibleCasing = null;\n\n      for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n        var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n        if (casing === null && lowestPossibleCasing === null) firstPossibleNeedle = i + 1;else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n          lowestPossibleCasing = casing;\n        }\n      }\n\n      if (lowestPossibleCasing !== null) {\n        advance(function () {\n          cursor.continue(lowestPossibleCasing + nextKeySuffix);\n        });\n      } else {\n        advance(resolve);\n      }\n\n      return false;\n    }\n  });\n\n  return c;\n}\n\nfunction createRange(lower, upper, lowerOpen, upperOpen) {\n  return {\n    type: 2,\n    lower: lower,\n    upper: upper,\n    lowerOpen: lowerOpen,\n    upperOpen: upperOpen\n  };\n}\n\nfunction rangeEqual(value) {\n  return {\n    type: 1,\n    lower: value,\n    upper: value\n  };\n}\n\nvar WhereClause = function () {\n  function WhereClause() {}\n\n  Object.defineProperty(WhereClause.prototype, \"Collection\", {\n    get: function get() {\n      return this._ctx.table.db.Collection;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n    includeLower = includeLower !== false;\n    includeUpper = includeUpper === true;\n\n    try {\n      if (this._cmp(lower, upper) > 0 || this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)) return emptyCollection(this);\n      return new this.Collection(this, function () {\n        return createRange(lower, upper, !includeLower, !includeUpper);\n      });\n    } catch (e) {\n      return fail(this, INVALID_KEY_ARGUMENT);\n    }\n  };\n\n  WhereClause.prototype.equals = function (value) {\n    if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n    return new this.Collection(this, function () {\n      return rangeEqual(value);\n    });\n  };\n\n  WhereClause.prototype.above = function (value) {\n    if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n    return new this.Collection(this, function () {\n      return createRange(value, undefined, true);\n    });\n  };\n\n  WhereClause.prototype.aboveOrEqual = function (value) {\n    if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n    return new this.Collection(this, function () {\n      return createRange(value, undefined, false);\n    });\n  };\n\n  WhereClause.prototype.below = function (value) {\n    if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n    return new this.Collection(this, function () {\n      return createRange(undefined, value, false, true);\n    });\n  };\n\n  WhereClause.prototype.belowOrEqual = function (value) {\n    if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n    return new this.Collection(this, function () {\n      return createRange(undefined, value);\n    });\n  };\n\n  WhereClause.prototype.startsWith = function (str) {\n    if (typeof str !== 'string') return fail(this, STRING_EXPECTED);\n    return this.between(str, str + maxString, true, true);\n  };\n\n  WhereClause.prototype.startsWithIgnoreCase = function (str) {\n    if (str === \"\") return this.startsWith(str);\n    return addIgnoreCaseAlgorithm(this, function (x, a) {\n      return x.indexOf(a[0]) === 0;\n    }, [str], maxString);\n  };\n\n  WhereClause.prototype.equalsIgnoreCase = function (str) {\n    return addIgnoreCaseAlgorithm(this, function (x, a) {\n      return x === a[0];\n    }, [str], \"\");\n  };\n\n  WhereClause.prototype.anyOfIgnoreCase = function () {\n    var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n    if (set.length === 0) return emptyCollection(this);\n    return addIgnoreCaseAlgorithm(this, function (x, a) {\n      return a.indexOf(x) !== -1;\n    }, set, \"\");\n  };\n\n  WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n    var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n    if (set.length === 0) return emptyCollection(this);\n    return addIgnoreCaseAlgorithm(this, function (x, a) {\n      return a.some(function (n) {\n        return x.indexOf(n) === 0;\n      });\n    }, set, maxString);\n  };\n\n  WhereClause.prototype.anyOf = function () {\n    var _this = this;\n\n    var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n    var compare = this._cmp;\n\n    try {\n      set.sort(compare);\n    } catch (e) {\n      return fail(this, INVALID_KEY_ARGUMENT);\n    }\n\n    if (set.length === 0) return emptyCollection(this);\n    var c = new this.Collection(this, function () {\n      return createRange(set[0], set[set.length - 1]);\n    });\n\n    c._ondirectionchange = function (direction) {\n      compare = direction === \"next\" ? _this._ascending : _this._descending;\n      set.sort(compare);\n    };\n\n    var i = 0;\n\n    c._addAlgorithm(function (cursor, advance, resolve) {\n      var key = cursor.key;\n\n      while (compare(key, set[i]) > 0) {\n        ++i;\n\n        if (i === set.length) {\n          advance(resolve);\n          return false;\n        }\n      }\n\n      if (compare(key, set[i]) === 0) {\n        return true;\n      } else {\n        advance(function () {\n          cursor.continue(set[i]);\n        });\n        return false;\n      }\n    });\n\n    return c;\n  };\n\n  WhereClause.prototype.notEqual = function (value) {\n    return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], {\n      includeLowers: false,\n      includeUppers: false\n    });\n  };\n\n  WhereClause.prototype.noneOf = function () {\n    var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n    if (set.length === 0) return new this.Collection(this);\n\n    try {\n      set.sort(this._ascending);\n    } catch (e) {\n      return fail(this, INVALID_KEY_ARGUMENT);\n    }\n\n    var ranges = set.reduce(function (res, val) {\n      return res ? res.concat([[res[res.length - 1][1], val]]) : [[minKey, val]];\n    }, null);\n    ranges.push([set[set.length - 1], this.db._maxKey]);\n    return this.inAnyRange(ranges, {\n      includeLowers: false,\n      includeUppers: false\n    });\n  };\n\n  WhereClause.prototype.inAnyRange = function (ranges, options) {\n    var _this = this;\n\n    var cmp = this._cmp,\n        ascending = this._ascending,\n        descending = this._descending,\n        min = this._min,\n        max = this._max;\n    if (ranges.length === 0) return emptyCollection(this);\n\n    if (!ranges.every(function (range) {\n      return range[0] !== undefined && range[1] !== undefined && ascending(range[0], range[1]) <= 0;\n    })) {\n      return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n    }\n\n    var includeLowers = !options || options.includeLowers !== false;\n    var includeUppers = options && options.includeUppers === true;\n\n    function addRange(ranges, newRange) {\n      var i = 0,\n          l = ranges.length;\n\n      for (; i < l; ++i) {\n        var range = ranges[i];\n\n        if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n          range[0] = min(range[0], newRange[0]);\n          range[1] = max(range[1], newRange[1]);\n          break;\n        }\n      }\n\n      if (i === l) ranges.push(newRange);\n      return ranges;\n    }\n\n    var sortDirection = ascending;\n\n    function rangeSorter(a, b) {\n      return sortDirection(a[0], b[0]);\n    }\n\n    var set;\n\n    try {\n      set = ranges.reduce(addRange, []);\n      set.sort(rangeSorter);\n    } catch (ex) {\n      return fail(this, INVALID_KEY_ARGUMENT);\n    }\n\n    var rangePos = 0;\n    var keyIsBeyondCurrentEntry = includeUppers ? function (key) {\n      return ascending(key, set[rangePos][1]) > 0;\n    } : function (key) {\n      return ascending(key, set[rangePos][1]) >= 0;\n    };\n    var keyIsBeforeCurrentEntry = includeLowers ? function (key) {\n      return descending(key, set[rangePos][0]) > 0;\n    } : function (key) {\n      return descending(key, set[rangePos][0]) >= 0;\n    };\n\n    function keyWithinCurrentRange(key) {\n      return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n    }\n\n    var checkKey = keyIsBeyondCurrentEntry;\n    var c = new this.Collection(this, function () {\n      return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers);\n    });\n\n    c._ondirectionchange = function (direction) {\n      if (direction === \"next\") {\n        checkKey = keyIsBeyondCurrentEntry;\n        sortDirection = ascending;\n      } else {\n        checkKey = keyIsBeforeCurrentEntry;\n        sortDirection = descending;\n      }\n\n      set.sort(rangeSorter);\n    };\n\n    c._addAlgorithm(function (cursor, advance, resolve) {\n      var key = cursor.key;\n\n      while (checkKey(key)) {\n        ++rangePos;\n\n        if (rangePos === set.length) {\n          advance(resolve);\n          return false;\n        }\n      }\n\n      if (keyWithinCurrentRange(key)) {\n        return true;\n      } else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n        return false;\n      } else {\n        advance(function () {\n          if (sortDirection === ascending) cursor.continue(set[rangePos][0]);else cursor.continue(set[rangePos][1]);\n        });\n        return false;\n      }\n    });\n\n    return c;\n  };\n\n  WhereClause.prototype.startsWithAnyOf = function () {\n    var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n\n    if (!set.every(function (s) {\n      return typeof s === 'string';\n    })) {\n      return fail(this, \"startsWithAnyOf() only works with strings\");\n    }\n\n    if (set.length === 0) return emptyCollection(this);\n    return this.inAnyRange(set.map(function (str) {\n      return [str, str + maxString];\n    }));\n  };\n\n  return WhereClause;\n}();\n\nfunction createWhereClauseConstructor(db) {\n  return makeClassConstructor(WhereClause.prototype, function WhereClause$$1(table, index, orCollection) {\n    this.db = db;\n    this._ctx = {\n      table: table,\n      index: index === \":id\" ? null : index,\n      or: orCollection\n    };\n    var indexedDB = db._deps.indexedDB;\n    if (!indexedDB) throw new exceptions.MissingAPI(\"indexedDB API missing\");\n    this._cmp = this._ascending = indexedDB.cmp.bind(indexedDB);\n\n    this._descending = function (a, b) {\n      return indexedDB.cmp(b, a);\n    };\n\n    this._max = function (a, b) {\n      return indexedDB.cmp(a, b) > 0 ? a : b;\n    };\n\n    this._min = function (a, b) {\n      return indexedDB.cmp(a, b) < 0 ? a : b;\n    };\n\n    this._IDBKeyRange = db._deps.IDBKeyRange;\n  });\n}\n\nfunction safariMultiStoreFix(storeNames) {\n  return storeNames.length === 1 ? storeNames[0] : storeNames;\n}\n\nfunction getMaxKey(IdbKeyRange) {\n  try {\n    IdbKeyRange.only([[]]);\n    return [[]];\n  } catch (e) {\n    return maxString;\n  }\n}\n\nfunction eventRejectHandler(reject) {\n  return wrap(function (event) {\n    preventDefault(event);\n    reject(event.target.error);\n    return false;\n  });\n}\n\nfunction preventDefault(event) {\n  if (event.stopPropagation) event.stopPropagation();\n  if (event.preventDefault) event.preventDefault();\n}\n\nvar Transaction = function () {\n  function Transaction() {}\n\n  Transaction.prototype._lock = function () {\n    assert(!PSD.global);\n    ++this._reculock;\n    if (this._reculock === 1 && !PSD.global) PSD.lockOwnerFor = this;\n    return this;\n  };\n\n  Transaction.prototype._unlock = function () {\n    assert(!PSD.global);\n\n    if (--this._reculock === 0) {\n      if (!PSD.global) PSD.lockOwnerFor = null;\n\n      while (this._blockedFuncs.length > 0 && !this._locked()) {\n        var fnAndPSD = this._blockedFuncs.shift();\n\n        try {\n          usePSD(fnAndPSD[1], fnAndPSD[0]);\n        } catch (e) {}\n      }\n    }\n\n    return this;\n  };\n\n  Transaction.prototype._locked = function () {\n    return this._reculock && PSD.lockOwnerFor !== this;\n  };\n\n  Transaction.prototype.create = function (idbtrans) {\n    var _this = this;\n\n    if (!this.mode) return this;\n    var idbdb = this.db.idbdb;\n    var dbOpenError = this.db._state.dbOpenError;\n    assert(!this.idbtrans);\n\n    if (!idbtrans && !idbdb) {\n      switch (dbOpenError && dbOpenError.name) {\n        case \"DatabaseClosedError\":\n          throw new exceptions.DatabaseClosed(dbOpenError);\n\n        case \"MissingAPIError\":\n          throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n\n        default:\n          throw new exceptions.OpenFailed(dbOpenError);\n      }\n    }\n\n    if (!this.active) throw new exceptions.TransactionInactive();\n    assert(this._completion._state === null);\n    idbtrans = this.idbtrans = idbtrans || idbdb.transaction(safariMultiStoreFix(this.storeNames), this.mode);\n    idbtrans.onerror = wrap(function (ev) {\n      preventDefault(ev);\n\n      _this._reject(idbtrans.error);\n    });\n    idbtrans.onabort = wrap(function (ev) {\n      preventDefault(ev);\n      _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n      _this.active = false;\n\n      _this.on(\"abort\").fire(ev);\n    });\n    idbtrans.oncomplete = wrap(function () {\n      _this.active = false;\n\n      _this._resolve();\n    });\n    return this;\n  };\n\n  Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n    var _this = this;\n\n    if (mode === 'readwrite' && this.mode !== 'readwrite') return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n    if (!this.active) return rejection(new exceptions.TransactionInactive());\n\n    if (this._locked()) {\n      return new DexiePromise(function (resolve, reject) {\n        _this._blockedFuncs.push([function () {\n          _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n        }, PSD]);\n      });\n    } else if (bWriteLock) {\n      return newScope(function () {\n        var p = new DexiePromise(function (resolve, reject) {\n          _this._lock();\n\n          var rv = fn(resolve, reject, _this);\n          if (rv && rv.then) rv.then(resolve, reject);\n        });\n        p.finally(function () {\n          return _this._unlock();\n        });\n        p._lib = true;\n        return p;\n      });\n    } else {\n      var p = new DexiePromise(function (resolve, reject) {\n        var rv = fn(resolve, reject, _this);\n        if (rv && rv.then) rv.then(resolve, reject);\n      });\n      p._lib = true;\n      return p;\n    }\n  };\n\n  Transaction.prototype._root = function () {\n    return this.parent ? this.parent._root() : this;\n  };\n\n  Transaction.prototype.waitFor = function (promiseLike) {\n    var root = this._root();\n\n    var promise = DexiePromise.resolve(promiseLike);\n\n    if (root._waitingFor) {\n      root._waitingFor = root._waitingFor.then(function () {\n        return promise;\n      });\n    } else {\n      root._waitingFor = promise;\n      root._waitingQueue = [];\n      var store = root.idbtrans.objectStore(root.storeNames[0]);\n\n      (function spin() {\n        ++root._spinCount;\n\n        while (root._waitingQueue.length) {\n          root._waitingQueue.shift()();\n        }\n\n        if (root._waitingFor) store.get(-Infinity).onsuccess = spin;\n      })();\n    }\n\n    var currentWaitPromise = root._waitingFor;\n    return new DexiePromise(function (resolve, reject) {\n      promise.then(function (res) {\n        return root._waitingQueue.push(wrap(resolve.bind(null, res)));\n      }, function (err) {\n        return root._waitingQueue.push(wrap(reject.bind(null, err)));\n      }).finally(function () {\n        if (root._waitingFor === currentWaitPromise) {\n          root._waitingFor = null;\n        }\n      });\n    });\n  };\n\n  Transaction.prototype.abort = function () {\n    this.active && this._reject(new exceptions.Abort());\n    this.active = false;\n  };\n\n  Transaction.prototype.table = function (tableName) {\n    var memoizedTables = this._memoizedTables || (this._memoizedTables = {});\n    if (hasOwn(memoizedTables, tableName)) return memoizedTables[tableName];\n    var tableSchema = this.schema[tableName];\n\n    if (!tableSchema) {\n      throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n    }\n\n    var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n    transactionBoundTable.core = this.db.core.table(tableName);\n    memoizedTables[tableName] = transactionBoundTable;\n    return transactionBoundTable;\n  };\n\n  return Transaction;\n}();\n\nfunction createTransactionConstructor(db) {\n  return makeClassConstructor(Transaction.prototype, function Transaction$$1(mode, storeNames, dbschema, parent) {\n    var _this = this;\n\n    this.db = db;\n    this.mode = mode;\n    this.storeNames = storeNames;\n    this.schema = dbschema;\n    this.idbtrans = null;\n    this.on = Events(this, \"complete\", \"error\", \"abort\");\n    this.parent = parent || null;\n    this.active = true;\n    this._reculock = 0;\n    this._blockedFuncs = [];\n    this._resolve = null;\n    this._reject = null;\n    this._waitingFor = null;\n    this._waitingQueue = null;\n    this._spinCount = 0;\n    this._completion = new DexiePromise(function (resolve, reject) {\n      _this._resolve = resolve;\n      _this._reject = reject;\n    });\n\n    this._completion.then(function () {\n      _this.active = false;\n\n      _this.on.complete.fire();\n    }, function (e) {\n      var wasActive = _this.active;\n      _this.active = false;\n\n      _this.on.error.fire(e);\n\n      _this.parent ? _this.parent._reject(e) : wasActive && _this.idbtrans && _this.idbtrans.abort();\n      return rejection(e);\n    });\n  });\n}\n\nfunction createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n  return {\n    name: name,\n    keyPath: keyPath,\n    unique: unique,\n    multi: multi,\n    auto: auto,\n    compound: compound,\n    src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n  };\n}\n\nfunction nameFromKeyPath(keyPath) {\n  return typeof keyPath === 'string' ? keyPath : keyPath ? '[' + [].join.call(keyPath, '+') + ']' : \"\";\n}\n\nfunction createTableSchema(name, primKey, indexes) {\n  return {\n    name: name,\n    primKey: primKey,\n    indexes: indexes,\n    mappedClass: null,\n    idxByName: arrayToObject(indexes, function (index) {\n      return [index.name, index];\n    })\n  };\n}\n\nfunction getKeyExtractor(keyPath) {\n  if (keyPath == null) {\n    return function () {\n      return undefined;\n    };\n  } else if (typeof keyPath === 'string') {\n    return getSinglePathKeyExtractor(keyPath);\n  } else {\n    return function (obj) {\n      return getByKeyPath(obj, keyPath);\n    };\n  }\n}\n\nfunction getSinglePathKeyExtractor(keyPath) {\n  var split = keyPath.split('.');\n\n  if (split.length === 1) {\n    return function (obj) {\n      return obj[keyPath];\n    };\n  } else {\n    return function (obj) {\n      return getByKeyPath(obj, keyPath);\n    };\n  }\n}\n\nfunction getEffectiveKeys(primaryKey, req) {\n  if (req.type === 'delete') return req.keys;\n  return req.keys || req.values.map(primaryKey.extractKey);\n}\n\nfunction getExistingValues(table, req, effectiveKeys) {\n  return req.type === 'add' ? Promise.resolve(new Array(req.values.length)) : table.getMany({\n    trans: req.trans,\n    keys: effectiveKeys\n  });\n}\n\nfunction arrayify(arrayLike) {\n  return [].slice.call(arrayLike);\n}\n\nvar _id_counter = 0;\n\nfunction getKeyPathAlias(keyPath) {\n  return keyPath == null ? \":id\" : typeof keyPath === 'string' ? keyPath : \"[\" + keyPath.join('+') + \"]\";\n}\n\nfunction createDBCore(db, indexedDB, IdbKeyRange, tmpTrans) {\n  var cmp = indexedDB.cmp.bind(indexedDB);\n\n  function extractSchema(db, trans) {\n    var tables = arrayify(db.objectStoreNames);\n    return {\n      schema: {\n        name: db.name,\n        tables: tables.map(function (table) {\n          return trans.objectStore(table);\n        }).map(function (store) {\n          var keyPath = store.keyPath,\n              autoIncrement = store.autoIncrement;\n          var compound = isArray(keyPath);\n          var outbound = keyPath == null;\n          var indexByKeyPath = {};\n          var result = {\n            name: store.name,\n            primaryKey: {\n              name: null,\n              isPrimaryKey: true,\n              outbound: outbound,\n              compound: compound,\n              keyPath: keyPath,\n              autoIncrement: autoIncrement,\n              unique: true,\n              extractKey: getKeyExtractor(keyPath)\n            },\n            indexes: arrayify(store.indexNames).map(function (indexName) {\n              return store.index(indexName);\n            }).map(function (index) {\n              var name = index.name,\n                  unique = index.unique,\n                  multiEntry = index.multiEntry,\n                  keyPath = index.keyPath;\n              var compound = isArray(keyPath);\n              var result = {\n                name: name,\n                compound: compound,\n                keyPath: keyPath,\n                unique: unique,\n                multiEntry: multiEntry,\n                extractKey: getKeyExtractor(keyPath)\n              };\n              indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n              return result;\n            }),\n            getIndexByKeyPath: function getIndexByKeyPath(keyPath) {\n              return indexByKeyPath[getKeyPathAlias(keyPath)];\n            }\n          };\n          indexByKeyPath[\":id\"] = result.primaryKey;\n\n          if (keyPath != null) {\n            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n          }\n\n          return result;\n        })\n      },\n      hasGetAll: tables.length > 0 && 'getAll' in trans.objectStore(tables[0]) && !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n    };\n  }\n\n  function makeIDBKeyRange(range) {\n    if (range.type === 3) return null;\n    if (range.type === 4) throw new Error(\"Cannot convert never type to IDBKeyRange\");\n    var lower = range.lower,\n        upper = range.upper,\n        lowerOpen = range.lowerOpen,\n        upperOpen = range.upperOpen;\n    var idbRange = lower === undefined ? upper === undefined ? null : IdbKeyRange.upperBound(upper, !!upperOpen) : upper === undefined ? IdbKeyRange.lowerBound(lower, !!lowerOpen) : IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n    return idbRange;\n  }\n\n  function createDbCoreTable(tableSchema) {\n    var tableName = tableSchema.name;\n\n    function mutate(_a) {\n      var trans = _a.trans,\n          type = _a.type,\n          keys$$1 = _a.keys,\n          values = _a.values,\n          range = _a.range,\n          wantResults = _a.wantResults;\n      return new Promise(function (resolve, reject) {\n        resolve = wrap(resolve);\n        var store = trans.objectStore(tableName);\n        var outbound = store.keyPath == null;\n        var isAddOrPut = type === \"put\" || type === \"add\";\n        if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange') throw new Error(\"Invalid operation type: \" + type);\n        var length = (keys$$1 || values || {\n          length: 1\n        }).length;\n\n        if (keys$$1 && values && keys$$1.length !== values.length) {\n          throw new Error(\"Given keys array must have same length as given values array.\");\n        }\n\n        if (length === 0) return resolve({\n          numFailures: 0,\n          failures: {},\n          results: [],\n          lastResult: undefined\n        });\n\n        var results = wantResults && __spreadArrays(keys$$1 ? keys$$1 : getEffectiveKeys(tableSchema.primaryKey, {\n          type: type,\n          keys: keys$$1,\n          values: values\n        }));\n\n        var req;\n        var failures = [];\n        var numFailures = 0;\n\n        var errorHandler = function errorHandler(event) {\n          ++numFailures;\n          preventDefault(event);\n          if (results) results[event.target._reqno] = undefined;\n          failures[event.target._reqno] = event.target.error;\n        };\n\n        var setResult = function setResult(_a) {\n          var target = _a.target;\n          results[target._reqno] = target.result;\n        };\n\n        if (type === 'deleteRange') {\n          if (range.type === 4) return resolve({\n            numFailures: numFailures,\n            failures: failures,\n            results: results,\n            lastResult: undefined\n          });\n          if (range.type === 3) req = store.clear();else req = store.delete(makeIDBKeyRange(range));\n        } else {\n          var _a = isAddOrPut ? outbound ? [values, keys$$1] : [values, null] : [keys$$1, null],\n              args1 = _a[0],\n              args2 = _a[1];\n\n          if (isAddOrPut) {\n            for (var i = 0; i < length; ++i) {\n              req = args2 && args2[i] !== undefined ? store[type](args1[i], args2[i]) : store[type](args1[i]);\n              req._reqno = i;\n\n              if (results && results[i] === undefined) {\n                req.onsuccess = setResult;\n              }\n\n              req.onerror = errorHandler;\n            }\n          } else {\n            for (var i = 0; i < length; ++i) {\n              req = store[type](args1[i]);\n              req._reqno = i;\n              req.onerror = errorHandler;\n            }\n          }\n        }\n\n        var done = function done(event) {\n          var lastResult = event.target.result;\n          if (results) results[length - 1] = lastResult;\n          resolve({\n            numFailures: numFailures,\n            failures: failures,\n            results: results,\n            lastResult: lastResult\n          });\n        };\n\n        req.onerror = function (event) {\n          errorHandler(event);\n          done(event);\n        };\n\n        req.onsuccess = done;\n      });\n    }\n\n    function openCursor(_a) {\n      var trans = _a.trans,\n          values = _a.values,\n          query = _a.query,\n          reverse = _a.reverse,\n          unique = _a.unique;\n      return new Promise(function (resolve, reject) {\n        resolve = wrap(resolve);\n        var index = query.index,\n            range = query.range;\n        var store = trans.objectStore(tableName);\n        var source = index.isPrimaryKey ? store : store.index(index.name);\n        var direction = reverse ? unique ? \"prevunique\" : \"prev\" : unique ? \"nextunique\" : \"next\";\n        var req = values || !('openKeyCursor' in source) ? source.openCursor(makeIDBKeyRange(range), direction) : source.openKeyCursor(makeIDBKeyRange(range), direction);\n        req.onerror = eventRejectHandler(reject);\n        req.onsuccess = wrap(function (ev) {\n          var cursor = req.result;\n\n          if (!cursor) {\n            resolve(null);\n            return;\n          }\n\n          cursor.___id = ++_id_counter;\n          cursor.done = false;\n\n          var _cursorContinue = cursor.continue.bind(cursor);\n\n          var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n          if (_cursorContinuePrimaryKey) _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n\n          var _cursorAdvance = cursor.advance.bind(cursor);\n\n          var doThrowCursorIsNotStarted = function doThrowCursorIsNotStarted() {\n            throw new Error(\"Cursor not started\");\n          };\n\n          var doThrowCursorIsStopped = function doThrowCursorIsStopped() {\n            throw new Error(\"Cursor not stopped\");\n          };\n\n          cursor.trans = trans;\n          cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n          cursor.fail = wrap(reject);\n\n          cursor.next = function () {\n            var _this = this;\n\n            var gotOne = 1;\n            return this.start(function () {\n              return gotOne-- ? _this.continue() : _this.stop();\n            }).then(function () {\n              return _this;\n            });\n          };\n\n          cursor.start = function (callback) {\n            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n              resolveIteration = wrap(resolveIteration);\n              req.onerror = eventRejectHandler(rejectIteration);\n              cursor.fail = rejectIteration;\n\n              cursor.stop = function (value) {\n                cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                resolveIteration(value);\n              };\n            });\n\n            var guardedCallback = function guardedCallback() {\n              if (req.result) {\n                try {\n                  callback();\n                } catch (err) {\n                  cursor.fail(err);\n                }\n              } else {\n                cursor.done = true;\n\n                cursor.start = function () {\n                  throw new Error(\"Cursor behind last entry\");\n                };\n\n                cursor.stop();\n              }\n            };\n\n            req.onsuccess = wrap(function (ev) {\n              req.onsuccess = guardedCallback;\n              guardedCallback();\n            });\n            cursor.continue = _cursorContinue;\n            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n            cursor.advance = _cursorAdvance;\n            guardedCallback();\n            return iterationPromise;\n          };\n\n          resolve(cursor);\n        }, reject);\n      });\n    }\n\n    function query(hasGetAll) {\n      return function (request) {\n        return new Promise(function (resolve, reject) {\n          resolve = wrap(resolve);\n          var trans = request.trans,\n              values = request.values,\n              limit = request.limit,\n              query = request.query;\n          var nonInfinitLimit = limit === Infinity ? undefined : limit;\n          var index = query.index,\n              range = query.range;\n          var store = trans.objectStore(tableName);\n          var source = index.isPrimaryKey ? store : store.index(index.name);\n          var idbKeyRange = makeIDBKeyRange(range);\n          if (limit === 0) return resolve({\n            result: []\n          });\n\n          if (hasGetAll) {\n            var req = values ? source.getAll(idbKeyRange, nonInfinitLimit) : source.getAllKeys(idbKeyRange, nonInfinitLimit);\n\n            req.onsuccess = function (event) {\n              return resolve({\n                result: event.target.result\n              });\n            };\n\n            req.onerror = eventRejectHandler(reject);\n          } else {\n            var count_1 = 0;\n            var req_1 = values || !('openKeyCursor' in source) ? source.openCursor(idbKeyRange) : source.openKeyCursor(idbKeyRange);\n            var result_1 = [];\n\n            req_1.onsuccess = function (event) {\n              var cursor = req_1.result;\n              if (!cursor) return resolve({\n                result: result_1\n              });\n              result_1.push(values ? cursor.value : cursor.primaryKey);\n              if (++count_1 === limit) return resolve({\n                result: result_1\n              });\n              cursor.continue();\n            };\n\n            req_1.onerror = eventRejectHandler(reject);\n          }\n        });\n      };\n    }\n\n    return {\n      name: tableName,\n      schema: tableSchema,\n      mutate: mutate,\n      getMany: function getMany(_a) {\n        var trans = _a.trans,\n            keys$$1 = _a.keys;\n        return new Promise(function (resolve, reject) {\n          resolve = wrap(resolve);\n          var store = trans.objectStore(tableName);\n          var length = keys$$1.length;\n          var result = new Array(length);\n          var keyCount = 0;\n          var callbackCount = 0;\n          var valueCount = 0;\n          var req;\n\n          var successHandler = function successHandler(event) {\n            var req = event.target;\n            if ((result[req._pos] = req.result) != null) ++valueCount;\n            if (++callbackCount === keyCount) resolve(result);\n          };\n\n          var errorHandler = eventRejectHandler(reject);\n\n          for (var i = 0; i < length; ++i) {\n            var key = keys$$1[i];\n\n            if (key != null) {\n              req = store.get(keys$$1[i]);\n              req._pos = i;\n              req.onsuccess = successHandler;\n              req.onerror = errorHandler;\n              ++keyCount;\n            }\n          }\n\n          if (keyCount === 0) resolve(result);\n        });\n      },\n      get: function get(_a) {\n        var trans = _a.trans,\n            key = _a.key;\n        return new Promise(function (resolve, reject) {\n          resolve = wrap(resolve);\n          var store = trans.objectStore(tableName);\n          var req = store.get(key);\n\n          req.onsuccess = function (event) {\n            return resolve(event.target.result);\n          };\n\n          req.onerror = eventRejectHandler(reject);\n        });\n      },\n      query: query(hasGetAll),\n      openCursor: openCursor,\n      count: function count(_a) {\n        var query = _a.query,\n            trans = _a.trans;\n        var index = query.index,\n            range = query.range;\n        return new Promise(function (resolve, reject) {\n          var store = trans.objectStore(tableName);\n          var source = index.isPrimaryKey ? store : store.index(index.name);\n          var idbKeyRange = makeIDBKeyRange(range);\n          var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n          req.onsuccess = wrap(function (ev) {\n            return resolve(ev.target.result);\n          });\n          req.onerror = eventRejectHandler(reject);\n        });\n      }\n    };\n  }\n\n  var _a = extractSchema(db, tmpTrans),\n      schema = _a.schema,\n      hasGetAll = _a.hasGetAll;\n\n  var tables = schema.tables.map(function (tableSchema) {\n    return createDbCoreTable(tableSchema);\n  });\n  var tableMap = {};\n  tables.forEach(function (table) {\n    return tableMap[table.name] = table;\n  });\n  return {\n    stack: \"dbcore\",\n    transaction: db.transaction.bind(db),\n    table: function table(name) {\n      var result = tableMap[name];\n      if (!result) throw new Error(\"Table '\" + name + \"' not found\");\n      return tableMap[name];\n    },\n    cmp: cmp,\n    MIN_KEY: -Infinity,\n    MAX_KEY: getMaxKey(IdbKeyRange),\n    schema: schema\n  };\n}\n\nfunction createMiddlewareStack(stackImpl, middlewares) {\n  return middlewares.reduce(function (down, _a) {\n    var create = _a.create;\n    return _assign(_assign({}, down), create(down));\n  }, stackImpl);\n}\n\nfunction createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n  var IDBKeyRange = _a.IDBKeyRange,\n      indexedDB = _a.indexedDB;\n  var dbcore = createMiddlewareStack(createDBCore(idbdb, indexedDB, IDBKeyRange, tmpTrans), middlewares.dbcore);\n  return {\n    dbcore: dbcore\n  };\n}\n\nfunction generateMiddlewareStacks(db, tmpTrans) {\n  var idbdb = tmpTrans.db;\n  var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n  db.core = stacks.dbcore;\n  db.tables.forEach(function (table) {\n    var tableName = table.name;\n\n    if (db.core.schema.tables.some(function (tbl) {\n      return tbl.name === tableName;\n    })) {\n      table.core = db.core.table(tableName);\n\n      if (db[tableName] instanceof db.Table) {\n        db[tableName].core = table.core;\n      }\n    }\n  });\n}\n\nfunction setApiOnPlace(db, objs, tableNames, dbschema) {\n  tableNames.forEach(function (tableName) {\n    var schema = dbschema[tableName];\n    objs.forEach(function (obj) {\n      var propDesc = getPropertyDescriptor(obj, tableName);\n\n      if (!propDesc || \"value\" in propDesc && propDesc.value === undefined) {\n        if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n          setProp(obj, tableName, {\n            get: function get() {\n              return this.table(tableName);\n            },\n            set: function set(value) {\n              defineProperty(this, tableName, {\n                value: value,\n                writable: true,\n                configurable: true,\n                enumerable: true\n              });\n            }\n          });\n        } else {\n          obj[tableName] = new db.Table(tableName, schema);\n        }\n      }\n    });\n  });\n}\n\nfunction removeTablesApi(db, objs) {\n  objs.forEach(function (obj) {\n    for (var key in obj) {\n      if (obj[key] instanceof db.Table) delete obj[key];\n    }\n  });\n}\n\nfunction lowerVersionFirst(a, b) {\n  return a._cfg.version - b._cfg.version;\n}\n\nfunction runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n  var globalSchema = db._dbSchema;\n\n  var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n\n  trans.create(idbUpgradeTrans);\n\n  trans._completion.catch(reject);\n\n  var rejectTransaction = trans._reject.bind(trans);\n\n  var transless = PSD.transless || PSD;\n  newScope(function () {\n    PSD.trans = trans;\n    PSD.transless = transless;\n\n    if (oldVersion === 0) {\n      keys(globalSchema).forEach(function (tableName) {\n        createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n      });\n      generateMiddlewareStacks(db, idbUpgradeTrans);\n      DexiePromise.follow(function () {\n        return db.on.populate.fire(trans);\n      }).catch(rejectTransaction);\n    } else updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans).catch(rejectTransaction);\n  });\n}\n\nfunction updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n  var queue = [];\n  var versions = db._versions;\n  var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n  var anyContentUpgraderHasRun = false;\n  var versToRun = versions.filter(function (v) {\n    return v._cfg.version >= oldVersion;\n  });\n  versToRun.forEach(function (version) {\n    queue.push(function () {\n      var oldSchema = globalSchema;\n      var newSchema = version._cfg.dbschema;\n      adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n      adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n      globalSchema = db._dbSchema = newSchema;\n      var diff = getSchemaDiff(oldSchema, newSchema);\n      diff.add.forEach(function (tuple) {\n        createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n      });\n      diff.change.forEach(function (change) {\n        if (change.recreate) {\n          throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n        } else {\n          var store_1 = idbUpgradeTrans.objectStore(change.name);\n          change.add.forEach(function (idx) {\n            return addIndex(store_1, idx);\n          });\n          change.change.forEach(function (idx) {\n            store_1.deleteIndex(idx.name);\n            addIndex(store_1, idx);\n          });\n          change.del.forEach(function (idxName) {\n            return store_1.deleteIndex(idxName);\n          });\n        }\n      });\n      var contentUpgrade = version._cfg.contentUpgrade;\n\n      if (contentUpgrade && version._cfg.version > oldVersion) {\n        generateMiddlewareStacks(db, idbUpgradeTrans);\n        trans._memoizedTables = {};\n        anyContentUpgraderHasRun = true;\n        var upgradeSchema_1 = shallowClone(newSchema);\n        diff.del.forEach(function (table) {\n          upgradeSchema_1[table] = oldSchema[table];\n        });\n        removeTablesApi(db, [db.Transaction.prototype]);\n        setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n        trans.schema = upgradeSchema_1;\n        var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n\n        if (contentUpgradeIsAsync_1) {\n          incrementExpectedAwaits();\n        }\n\n        var returnValue_1;\n        var promiseFollowed = DexiePromise.follow(function () {\n          returnValue_1 = contentUpgrade(trans);\n\n          if (returnValue_1) {\n            if (contentUpgradeIsAsync_1) {\n              var decrementor = decrementExpectedAwaits.bind(null, null);\n              returnValue_1.then(decrementor, decrementor);\n            }\n          }\n        });\n        return returnValue_1 && typeof returnValue_1.then === 'function' ? DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () {\n          return returnValue_1;\n        });\n      }\n    });\n    queue.push(function (idbtrans) {\n      if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {\n        var newSchema = version._cfg.dbschema;\n        deleteRemovedTables(newSchema, idbtrans);\n      }\n\n      removeTablesApi(db, [db.Transaction.prototype]);\n      setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n      trans.schema = db._dbSchema;\n    });\n  });\n\n  function runQueue() {\n    return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) : DexiePromise.resolve();\n  }\n\n  return runQueue().then(function () {\n    createMissingTables(globalSchema, idbUpgradeTrans);\n  });\n}\n\nfunction getSchemaDiff(oldSchema, newSchema) {\n  var diff = {\n    del: [],\n    add: [],\n    change: []\n  };\n  var table;\n\n  for (table in oldSchema) {\n    if (!newSchema[table]) diff.del.push(table);\n  }\n\n  for (table in newSchema) {\n    var oldDef = oldSchema[table],\n        newDef = newSchema[table];\n\n    if (!oldDef) {\n      diff.add.push([table, newDef]);\n    } else {\n      var change = {\n        name: table,\n        def: newDef,\n        recreate: false,\n        del: [],\n        add: [],\n        change: []\n      };\n\n      if ('' + (oldDef.primKey.keyPath || '') !== '' + (newDef.primKey.keyPath || '') || oldDef.primKey.auto !== newDef.primKey.auto && !isIEOrEdge) {\n        change.recreate = true;\n        diff.change.push(change);\n      } else {\n        var oldIndexes = oldDef.idxByName;\n        var newIndexes = newDef.idxByName;\n        var idxName = void 0;\n\n        for (idxName in oldIndexes) {\n          if (!newIndexes[idxName]) change.del.push(idxName);\n        }\n\n        for (idxName in newIndexes) {\n          var oldIdx = oldIndexes[idxName],\n              newIdx = newIndexes[idxName];\n          if (!oldIdx) change.add.push(newIdx);else if (oldIdx.src !== newIdx.src) change.change.push(newIdx);\n        }\n\n        if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n          diff.change.push(change);\n        }\n      }\n    }\n  }\n\n  return diff;\n}\n\nfunction createTable(idbtrans, tableName, primKey, indexes) {\n  var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ? {\n    keyPath: primKey.keyPath,\n    autoIncrement: primKey.auto\n  } : {\n    autoIncrement: primKey.auto\n  });\n  indexes.forEach(function (idx) {\n    return addIndex(store, idx);\n  });\n  return store;\n}\n\nfunction createMissingTables(newSchema, idbtrans) {\n  keys(newSchema).forEach(function (tableName) {\n    if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n      createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n    }\n  });\n}\n\nfunction deleteRemovedTables(newSchema, idbtrans) {\n  for (var i = 0; i < idbtrans.db.objectStoreNames.length; ++i) {\n    var storeName = idbtrans.db.objectStoreNames[i];\n\n    if (newSchema[storeName] == null) {\n      idbtrans.db.deleteObjectStore(storeName);\n    }\n  }\n}\n\nfunction addIndex(store, idx) {\n  store.createIndex(idx.name, idx.keyPath, {\n    unique: idx.unique,\n    multiEntry: idx.multi\n  });\n}\n\nfunction buildGlobalSchema(db, idbdb, tmpTrans) {\n  var globalSchema = {};\n  var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n  dbStoreNames.forEach(function (storeName) {\n    var store = tmpTrans.objectStore(storeName);\n    var keyPath = store.keyPath;\n    var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n    var indexes = [];\n\n    for (var j = 0; j < store.indexNames.length; ++j) {\n      var idbindex = store.index(store.indexNames[j]);\n      keyPath = idbindex.keyPath;\n      var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n      indexes.push(index);\n    }\n\n    globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n  });\n  return globalSchema;\n}\n\nfunction readGlobalSchema(db, idbdb, tmpTrans) {\n  db.verno = idbdb.version / 10;\n  var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n  db._storeNames = slice(idbdb.objectStoreNames, 0);\n  setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n}\n\nfunction verifyInstalledSchema(db, tmpTrans) {\n  var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n  var diff = getSchemaDiff(installedSchema, db._dbSchema);\n  return !(diff.add.length || diff.change.some(function (ch) {\n    return ch.add.length || ch.change.length;\n  }));\n}\n\nfunction adjustToExistingIndexNames(db, schema, idbtrans) {\n  var storeNames = idbtrans.db.objectStoreNames;\n\n  for (var i = 0; i < storeNames.length; ++i) {\n    var storeName = storeNames[i];\n    var store = idbtrans.objectStore(storeName);\n    db._hasGetAll = 'getAll' in store;\n\n    for (var j = 0; j < store.indexNames.length; ++j) {\n      var indexName = store.indexNames[j];\n      var keyPath = store.index(indexName).keyPath;\n      var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n\n      if (schema[storeName]) {\n        var indexSpec = schema[storeName].idxByName[dexieName];\n\n        if (indexSpec) {\n          indexSpec.name = indexName;\n          delete schema[storeName].idxByName[dexieName];\n          schema[storeName].idxByName[indexName] = indexSpec;\n        }\n      }\n    }\n  }\n\n  if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n    db._hasGetAll = false;\n  }\n}\n\nfunction parseIndexSyntax(primKeyAndIndexes) {\n  return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n    index = index.trim();\n    var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n    var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n    return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n  });\n}\n\nvar Version = function () {\n  function Version() {}\n\n  Version.prototype._parseStoresSpec = function (stores, outSchema) {\n    keys(stores).forEach(function (tableName) {\n      if (stores[tableName] !== null) {\n        var indexes = parseIndexSyntax(stores[tableName]);\n        var primKey = indexes.shift();\n        if (primKey.multi) throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n        indexes.forEach(function (idx) {\n          if (idx.auto) throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n          if (!idx.keyPath) throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n        });\n        outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n      }\n    });\n  };\n\n  Version.prototype.stores = function (stores) {\n    var db = this.db;\n    this._cfg.storesSource = this._cfg.storesSource ? extend(this._cfg.storesSource, stores) : stores;\n    var versions = db._versions;\n    var storesSpec = {};\n    var dbschema = {};\n    versions.forEach(function (version) {\n      extend(storesSpec, version._cfg.storesSource);\n      dbschema = version._cfg.dbschema = {};\n\n      version._parseStoresSpec(storesSpec, dbschema);\n    });\n    db._dbSchema = dbschema;\n    removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n    setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n    db._storeNames = keys(dbschema);\n    return this;\n  };\n\n  Version.prototype.upgrade = function (upgradeFunction) {\n    this._cfg.contentUpgrade = upgradeFunction;\n    return this;\n  };\n\n  return Version;\n}();\n\nfunction createVersionConstructor(db) {\n  return makeClassConstructor(Version.prototype, function Version$$1(versionNumber) {\n    this.db = db;\n    this._cfg = {\n      version: versionNumber,\n      storesSource: null,\n      dbschema: {},\n      tables: {},\n      contentUpgrade: null\n    };\n  });\n}\n\nvar databaseEnumerator;\n\nfunction DatabaseEnumerator(indexedDB) {\n  var hasDatabasesNative = indexedDB && typeof indexedDB.databases === 'function';\n  var dbNamesTable;\n\n  if (!hasDatabasesNative) {\n    var db = new Dexie(DBNAMES_DB, {\n      addons: []\n    });\n    db.version(1).stores({\n      dbnames: 'name'\n    });\n    dbNamesTable = db.table('dbnames');\n  }\n\n  return {\n    getDatabaseNames: function getDatabaseNames() {\n      return hasDatabasesNative ? DexiePromise.resolve(indexedDB.databases()).then(function (infos) {\n        return infos.map(function (info) {\n          return info.name;\n        }).filter(function (name) {\n          return name !== DBNAMES_DB;\n        });\n      }) : dbNamesTable.toCollection().primaryKeys();\n    },\n    add: function add(name) {\n      return !hasDatabasesNative && name !== DBNAMES_DB && dbNamesTable.put({\n        name: name\n      }).catch(nop);\n    },\n    remove: function remove(name) {\n      return !hasDatabasesNative && name !== DBNAMES_DB && dbNamesTable.delete(name).catch(nop);\n    }\n  };\n}\n\nfunction initDatabaseEnumerator(indexedDB) {\n  try {\n    databaseEnumerator = DatabaseEnumerator(indexedDB);\n  } catch (e) {}\n}\n\nfunction vip(fn) {\n  return newScope(function () {\n    PSD.letThrough = true;\n    return fn();\n  });\n}\n\nfunction dexieOpen(db) {\n  var state = db._state;\n  var indexedDB = db._deps.indexedDB;\n  if (state.isBeingOpened || db.idbdb) return state.dbReadyPromise.then(function () {\n    return state.dbOpenError ? rejection(state.dbOpenError) : db;\n  });\n  debug && (state.openCanceller._stackHolder = getErrorWithStack());\n  state.isBeingOpened = true;\n  state.dbOpenError = null;\n  state.openComplete = false;\n  var resolveDbReady = state.dbReadyResolve,\n      upgradeTransaction = null;\n  return DexiePromise.race([state.openCanceller, new DexiePromise(function (resolve, reject) {\n    if (!indexedDB) throw new exceptions.MissingAPI(\"indexedDB API not found. If using IE10+, make sure to run your code on a server URL \" + \"(not locally). If using old Safari versions, make sure to include indexedDB polyfill.\");\n    var dbName = db.name;\n    var req = state.autoSchema ? indexedDB.open(dbName) : indexedDB.open(dbName, Math.round(db.verno * 10));\n    if (!req) throw new exceptions.MissingAPI(\"IndexedDB API not available\");\n    req.onerror = eventRejectHandler(reject);\n    req.onblocked = wrap(db._fireOnBlocked);\n    req.onupgradeneeded = wrap(function (e) {\n      upgradeTransaction = req.transaction;\n\n      if (state.autoSchema && !db._options.allowEmptyDB) {\n        req.onerror = preventDefault;\n        upgradeTransaction.abort();\n        req.result.close();\n        var delreq = indexedDB.deleteDatabase(dbName);\n        delreq.onsuccess = delreq.onerror = wrap(function () {\n          reject(new exceptions.NoSuchDatabase(\"Database \" + dbName + \" doesnt exist\"));\n        });\n      } else {\n        upgradeTransaction.onerror = eventRejectHandler(reject);\n        var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n        db.idbdb = req.result;\n        runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n      }\n    }, reject);\n    req.onsuccess = wrap(function () {\n      upgradeTransaction = null;\n      var idbdb = db.idbdb = req.result;\n      var objectStoreNames = slice(idbdb.objectStoreNames);\n      if (objectStoreNames.length > 0) try {\n        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n        if (state.autoSchema) readGlobalSchema(db, idbdb, tmpTrans);else {\n          adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n\n          if (!verifyInstalledSchema(db, tmpTrans)) {\n            console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\");\n          }\n        }\n        generateMiddlewareStacks(db, tmpTrans);\n      } catch (e) {}\n      connections.push(db);\n      idbdb.onversionchange = wrap(function (ev) {\n        state.vcFired = true;\n        db.on(\"versionchange\").fire(ev);\n      });\n      databaseEnumerator.add(dbName);\n      resolve();\n    }, reject);\n  })]).then(function () {\n    state.onReadyBeingFired = [];\n    return DexiePromise.resolve(vip(db.on.ready.fire)).then(function fireRemainders() {\n      if (state.onReadyBeingFired.length > 0) {\n        var remainders = state.onReadyBeingFired.reduce(promisableChain, nop);\n        state.onReadyBeingFired = [];\n        return DexiePromise.resolve(vip(remainders)).then(fireRemainders);\n      }\n    });\n  }).finally(function () {\n    state.onReadyBeingFired = null;\n  }).then(function () {\n    state.isBeingOpened = false;\n    return db;\n  }).catch(function (err) {\n    try {\n      upgradeTransaction && upgradeTransaction.abort();\n    } catch (e) {}\n\n    state.isBeingOpened = false;\n    db.close();\n    state.dbOpenError = err;\n    return rejection(state.dbOpenError);\n  }).finally(function () {\n    state.openComplete = true;\n    resolveDbReady();\n  });\n}\n\nfunction awaitIterator(iterator) {\n  var callNext = function callNext(result) {\n    return iterator.next(result);\n  },\n      doThrow = function doThrow(error) {\n    return iterator.throw(error);\n  },\n      onSuccess = step(callNext),\n      onError = step(doThrow);\n\n  function step(getNext) {\n    return function (val) {\n      var next = getNext(val),\n          value = next.value;\n      return next.done ? value : !value || typeof value.then !== 'function' ? isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) : value.then(onSuccess, onError);\n    };\n  }\n\n  return step(callNext)();\n}\n\nfunction extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n  var i = arguments.length;\n  if (i < 2) throw new exceptions.InvalidArgument(\"Too few arguments\");\n  var args = new Array(i - 1);\n\n  while (--i) {\n    args[i - 1] = arguments[i];\n  }\n\n  scopeFunc = args.pop();\n  var tables = flatten(args);\n  return [mode, tables, scopeFunc];\n}\n\nfunction enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n  return DexiePromise.resolve().then(function () {\n    var transless = PSD.transless || PSD;\n\n    var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n\n    var zoneProps = {\n      trans: trans,\n      transless: transless\n    };\n\n    if (parentTransaction) {\n      trans.idbtrans = parentTransaction.idbtrans;\n    } else {\n      trans.create();\n    }\n\n    var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n\n    if (scopeFuncIsAsync) {\n      incrementExpectedAwaits();\n    }\n\n    var returnValue;\n    var promiseFollowed = DexiePromise.follow(function () {\n      returnValue = scopeFunc.call(trans, trans);\n\n      if (returnValue) {\n        if (scopeFuncIsAsync) {\n          var decrementor = decrementExpectedAwaits.bind(null, null);\n          returnValue.then(decrementor, decrementor);\n        } else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n          returnValue = awaitIterator(returnValue);\n        }\n      }\n    }, zoneProps);\n    return (returnValue && typeof returnValue.then === 'function' ? DexiePromise.resolve(returnValue).then(function (x) {\n      return trans.active ? x : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\"));\n    }) : promiseFollowed.then(function () {\n      return returnValue;\n    })).then(function (x) {\n      if (parentTransaction) trans._resolve();\n      return trans._completion.then(function () {\n        return x;\n      });\n    }).catch(function (e) {\n      trans._reject(e);\n\n      return rejection(e);\n    });\n  });\n}\n\nfunction pad(a, value, count) {\n  var result = isArray(a) ? a.slice() : [a];\n\n  for (var i = 0; i < count; ++i) {\n    result.push(value);\n  }\n\n  return result;\n}\n\nfunction createVirtualIndexMiddleware(down) {\n  return _assign(_assign({}, down), {\n    table: function table(tableName) {\n      var table = down.table(tableName);\n      var schema = table.schema;\n      var indexLookup = {};\n      var allVirtualIndexes = [];\n\n      function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n        var keyPathAlias = getKeyPathAlias(keyPath);\n        var indexList = indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || [];\n        var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n        var isVirtual = keyTail > 0;\n\n        var virtualIndex = _assign(_assign({}, lowLevelIndex), {\n          isVirtual: isVirtual,\n          isPrimaryKey: !isVirtual && lowLevelIndex.isPrimaryKey,\n          keyTail: keyTail,\n          keyLength: keyLength,\n          extractKey: getKeyExtractor(keyPath),\n          unique: !isVirtual && lowLevelIndex.unique\n        });\n\n        indexList.push(virtualIndex);\n\n        if (!virtualIndex.isPrimaryKey) {\n          allVirtualIndexes.push(virtualIndex);\n        }\n\n        if (keyLength > 1) {\n          var virtualKeyPath = keyLength === 2 ? keyPath[0] : keyPath.slice(0, keyLength - 1);\n          addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n        }\n\n        indexList.sort(function (a, b) {\n          return a.keyTail - b.keyTail;\n        });\n        return virtualIndex;\n      }\n\n      var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n      indexLookup[\":id\"] = [primaryKey];\n\n      for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n        var index = _a[_i];\n        addVirtualIndexes(index.keyPath, 0, index);\n      }\n\n      function findBestIndex(keyPath) {\n        var result = indexLookup[getKeyPathAlias(keyPath)];\n        return result && result[0];\n      }\n\n      function translateRange(range, keyTail) {\n        return {\n          type: range.type === 1 ? 2 : range.type,\n          lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n          lowerOpen: true,\n          upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n          upperOpen: true\n        };\n      }\n\n      function translateRequest(req) {\n        var index = req.query.index;\n        return index.isVirtual ? _assign(_assign({}, req), {\n          query: {\n            index: index,\n            range: translateRange(req.query.range, index.keyTail)\n          }\n        }) : req;\n      }\n\n      var result = _assign(_assign({}, table), {\n        schema: _assign(_assign({}, schema), {\n          primaryKey: primaryKey,\n          indexes: allVirtualIndexes,\n          getIndexByKeyPath: findBestIndex\n        }),\n        count: function count(req) {\n          return table.count(translateRequest(req));\n        },\n        query: function query(req) {\n          return table.query(translateRequest(req));\n        },\n        openCursor: function openCursor(req) {\n          var _a = req.query.index,\n              keyTail = _a.keyTail,\n              isVirtual = _a.isVirtual,\n              keyLength = _a.keyLength;\n          if (!isVirtual) return table.openCursor(req);\n\n          function createVirtualCursor(cursor) {\n            function _continue(key) {\n              key != null ? cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) : req.unique ? cursor.continue(pad(cursor.key, req.reverse ? down.MIN_KEY : down.MAX_KEY, keyTail)) : cursor.continue();\n            }\n\n            var virtualCursor = Object.create(cursor, {\n              continue: {\n                value: _continue\n              },\n              continuePrimaryKey: {\n                value: function value(key, primaryKey) {\n                  cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                }\n              },\n              key: {\n                get: function get() {\n                  var key = cursor.key;\n                  return keyLength === 1 ? key[0] : key.slice(0, keyLength);\n                }\n              },\n              value: {\n                get: function get() {\n                  return cursor.value;\n                }\n              }\n            });\n            return virtualCursor;\n          }\n\n          return table.openCursor(translateRequest(req)).then(function (cursor) {\n            return cursor && createVirtualCursor(cursor);\n          });\n        }\n      });\n\n      return result;\n    }\n  });\n}\n\nvar virtualIndexMiddleware = {\n  stack: \"dbcore\",\n  name: \"VirtualIndexMiddleware\",\n  level: 1,\n  create: createVirtualIndexMiddleware\n};\nvar hooksMiddleware = {\n  stack: \"dbcore\",\n  name: \"HooksMiddleware\",\n  level: 2,\n  create: function create(downCore) {\n    return _assign(_assign({}, downCore), {\n      table: function table(tableName) {\n        var downTable = downCore.table(tableName);\n        var primaryKey = downTable.schema.primaryKey;\n\n        var tableMiddleware = _assign(_assign({}, downTable), {\n          mutate: function mutate(req) {\n            var dxTrans = PSD.trans;\n            var _a = dxTrans.table(tableName).hook,\n                deleting = _a.deleting,\n                creating = _a.creating,\n                updating = _a.updating;\n\n            switch (req.type) {\n              case 'add':\n                if (creating.fire === nop) break;\n                return dxTrans._promise('readwrite', function () {\n                  return addPutOrDelete(req);\n                }, true);\n\n              case 'put':\n                if (creating.fire === nop && updating.fire === nop) break;\n                return dxTrans._promise('readwrite', function () {\n                  return addPutOrDelete(req);\n                }, true);\n\n              case 'delete':\n                if (deleting.fire === nop) break;\n                return dxTrans._promise('readwrite', function () {\n                  return addPutOrDelete(req);\n                }, true);\n\n              case 'deleteRange':\n                if (deleting.fire === nop) break;\n                return dxTrans._promise('readwrite', function () {\n                  return deleteRange(req);\n                }, true);\n            }\n\n            return downTable.mutate(req);\n\n            function addPutOrDelete(req) {\n              var dxTrans = PSD.trans;\n              var keys$$1 = req.keys || getEffectiveKeys(primaryKey, req);\n              if (!keys$$1) throw new Error(\"Keys missing\");\n              req = req.type === 'add' || req.type === 'put' ? _assign(_assign({}, req), {\n                keys: keys$$1,\n                wantResults: true\n              }) : _assign({}, req);\n              if (req.type !== 'delete') req.values = __spreadArrays(req.values);\n              if (req.keys) req.keys = __spreadArrays(req.keys);\n              return getExistingValues(downTable, req, keys$$1).then(function (existingValues) {\n                var contexts = keys$$1.map(function (key, i) {\n                  var existingValue = existingValues[i];\n                  var ctx = {\n                    onerror: null,\n                    onsuccess: null\n                  };\n\n                  if (req.type === 'delete') {\n                    deleting.fire.call(ctx, key, existingValue, dxTrans);\n                  } else if (req.type === 'add' || existingValue === undefined) {\n                    var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n\n                    if (key == null && generatedPrimaryKey != null) {\n                      key = generatedPrimaryKey;\n                      req.keys[i] = key;\n\n                      if (!primaryKey.outbound) {\n                        setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                      }\n                    }\n                  } else {\n                    var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                    var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n\n                    if (additionalChanges_1) {\n                      var requestedValue_1 = req.values[i];\n                      Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                        if (hasOwn(requestedValue_1, keyPath)) {\n                          requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                        } else {\n                          setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                        }\n                      });\n                    }\n                  }\n\n                  return ctx;\n                });\n                return downTable.mutate(req).then(function (_a) {\n                  var failures = _a.failures,\n                      results = _a.results,\n                      numFailures = _a.numFailures,\n                      lastResult = _a.lastResult;\n\n                  for (var i = 0; i < keys$$1.length; ++i) {\n                    var primKey = results ? results[i] : keys$$1[i];\n                    var ctx = contexts[i];\n\n                    if (primKey == null) {\n                      ctx.onerror && ctx.onerror(failures[i]);\n                    } else {\n                      ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ? req.values[i] : primKey);\n                    }\n                  }\n\n                  return {\n                    failures: failures,\n                    results: results,\n                    numFailures: numFailures,\n                    lastResult: lastResult\n                  };\n                }).catch(function (error) {\n                  contexts.forEach(function (ctx) {\n                    return ctx.onerror && ctx.onerror(error);\n                  });\n                  return Promise.reject(error);\n                });\n              });\n            }\n\n            function deleteRange(req) {\n              return deleteNextChunk(req.trans, req.range, 10000);\n            }\n\n            function deleteNextChunk(trans, range, limit) {\n              return downTable.query({\n                trans: trans,\n                values: false,\n                query: {\n                  index: primaryKey,\n                  range: range\n                },\n                limit: limit\n              }).then(function (_a) {\n                var result = _a.result;\n                return addPutOrDelete({\n                  type: 'delete',\n                  keys: result,\n                  trans: trans\n                }).then(function (res) {\n                  if (res.numFailures > 0) return Promise.reject(res.failures[0]);\n\n                  if (result.length < limit) {\n                    return {\n                      failures: [],\n                      numFailures: 0,\n                      lastResult: undefined\n                    };\n                  } else {\n                    return deleteNextChunk(trans, _assign(_assign({}, range), {\n                      lower: result[result.length - 1],\n                      lowerOpen: true\n                    }), limit);\n                  }\n                });\n              });\n            }\n          }\n        });\n\n        return tableMiddleware;\n      }\n    });\n  }\n};\n\nvar Dexie = function () {\n  function Dexie(name, options) {\n    var _this = this;\n\n    this._middlewares = {};\n    this.verno = 0;\n    var deps = Dexie.dependencies;\n    this._options = options = _assign({\n      addons: Dexie.addons,\n      autoOpen: true,\n      indexedDB: deps.indexedDB,\n      IDBKeyRange: deps.IDBKeyRange\n    }, options);\n    this._deps = {\n      indexedDB: options.indexedDB,\n      IDBKeyRange: options.IDBKeyRange\n    };\n    var addons = options.addons;\n    this._dbSchema = {};\n    this._versions = [];\n    this._storeNames = [];\n    this._allTables = {};\n    this.idbdb = null;\n    var state = {\n      dbOpenError: null,\n      isBeingOpened: false,\n      onReadyBeingFired: null,\n      openComplete: false,\n      dbReadyResolve: nop,\n      dbReadyPromise: null,\n      cancelOpen: nop,\n      openCanceller: null,\n      autoSchema: true\n    };\n    state.dbReadyPromise = new DexiePromise(function (resolve) {\n      state.dbReadyResolve = resolve;\n    });\n    state.openCanceller = new DexiePromise(function (_, reject) {\n      state.cancelOpen = reject;\n    });\n    this._state = state;\n    this.name = name;\n    this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", {\n      ready: [promisableChain, nop]\n    });\n    this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n      return function (subscriber, bSticky) {\n        Dexie.vip(function () {\n          var state = _this._state;\n\n          if (state.openComplete) {\n            if (!state.dbOpenError) DexiePromise.resolve().then(subscriber);\n            if (bSticky) subscribe(subscriber);\n          } else if (state.onReadyBeingFired) {\n            state.onReadyBeingFired.push(subscriber);\n            if (bSticky) subscribe(subscriber);\n          } else {\n            subscribe(subscriber);\n            var db_1 = _this;\n            if (!bSticky) subscribe(function unsubscribe() {\n              db_1.on.ready.unsubscribe(subscriber);\n              db_1.on.ready.unsubscribe(unsubscribe);\n            });\n          }\n        });\n      };\n    });\n    this.Collection = createCollectionConstructor(this);\n    this.Table = createTableConstructor(this);\n    this.Transaction = createTransactionConstructor(this);\n    this.Version = createVersionConstructor(this);\n    this.WhereClause = createWhereClauseConstructor(this);\n    this.on(\"versionchange\", function (ev) {\n      if (ev.newVersion > 0) console.warn(\"Another connection wants to upgrade database '\" + _this.name + \"'. Closing db now to resume the upgrade.\");else console.warn(\"Another connection wants to delete database '\" + _this.name + \"'. Closing db now to resume the delete request.\");\n\n      _this.close();\n    });\n    this.on(\"blocked\", function (ev) {\n      if (!ev.newVersion || ev.newVersion < ev.oldVersion) console.warn(\"Dexie.delete('\" + _this.name + \"') was blocked\");else console.warn(\"Upgrade '\" + _this.name + \"' blocked by other connection holding version \" + ev.oldVersion / 10);\n    });\n    this._maxKey = getMaxKey(options.IDBKeyRange);\n\n    this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) {\n      return new _this.Transaction(mode, storeNames, dbschema, parentTransaction);\n    };\n\n    this._fireOnBlocked = function (ev) {\n      _this.on(\"blocked\").fire(ev);\n\n      connections.filter(function (c) {\n        return c.name === _this.name && c !== _this && !c._state.vcFired;\n      }).map(function (c) {\n        return c.on(\"versionchange\").fire(ev);\n      });\n    };\n\n    this.use(virtualIndexMiddleware);\n    this.use(hooksMiddleware);\n    addons.forEach(function (addon) {\n      return addon(_this);\n    });\n  }\n\n  Dexie.prototype.version = function (versionNumber) {\n    if (isNaN(versionNumber) || versionNumber < 0.1) throw new exceptions.Type(\"Given version is not a positive number\");\n    versionNumber = Math.round(versionNumber * 10) / 10;\n    if (this.idbdb || this._state.isBeingOpened) throw new exceptions.Schema(\"Cannot add version when database is open\");\n    this.verno = Math.max(this.verno, versionNumber);\n    var versions = this._versions;\n    var versionInstance = versions.filter(function (v) {\n      return v._cfg.version === versionNumber;\n    })[0];\n    if (versionInstance) return versionInstance;\n    versionInstance = new this.Version(versionNumber);\n    versions.push(versionInstance);\n    versions.sort(lowerVersionFirst);\n    versionInstance.stores({});\n    this._state.autoSchema = false;\n    return versionInstance;\n  };\n\n  Dexie.prototype._whenReady = function (fn) {\n    var _this = this;\n\n    return this._state.openComplete || PSD.letThrough ? fn() : new DexiePromise(function (resolve, reject) {\n      if (!_this._state.isBeingOpened) {\n        if (!_this._options.autoOpen) {\n          reject(new exceptions.DatabaseClosed());\n          return;\n        }\n\n        _this.open().catch(nop);\n      }\n\n      _this._state.dbReadyPromise.then(resolve, reject);\n    }).then(fn);\n  };\n\n  Dexie.prototype.use = function (_a) {\n    var stack = _a.stack,\n        create = _a.create,\n        level = _a.level,\n        name = _a.name;\n    if (name) this.unuse({\n      stack: stack,\n      name: name\n    });\n    var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n    middlewares.push({\n      stack: stack,\n      create: create,\n      level: level == null ? 10 : level,\n      name: name\n    });\n    middlewares.sort(function (a, b) {\n      return a.level - b.level;\n    });\n    return this;\n  };\n\n  Dexie.prototype.unuse = function (_a) {\n    var stack = _a.stack,\n        name = _a.name,\n        create = _a.create;\n\n    if (stack && this._middlewares[stack]) {\n      this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n        return create ? mw.create !== create : name ? mw.name !== name : false;\n      });\n    }\n\n    return this;\n  };\n\n  Dexie.prototype.open = function () {\n    return dexieOpen(this);\n  };\n\n  Dexie.prototype.close = function () {\n    var idx = connections.indexOf(this),\n        state = this._state;\n    if (idx >= 0) connections.splice(idx, 1);\n\n    if (this.idbdb) {\n      try {\n        this.idbdb.close();\n      } catch (e) {}\n\n      this.idbdb = null;\n    }\n\n    this._options.autoOpen = false;\n    state.dbOpenError = new exceptions.DatabaseClosed();\n    if (state.isBeingOpened) state.cancelOpen(state.dbOpenError);\n    state.dbReadyPromise = new DexiePromise(function (resolve) {\n      state.dbReadyResolve = resolve;\n    });\n    state.openCanceller = new DexiePromise(function (_, reject) {\n      state.cancelOpen = reject;\n    });\n  };\n\n  Dexie.prototype.delete = function () {\n    var _this = this;\n\n    var hasArguments = arguments.length > 0;\n    var state = this._state;\n    return new DexiePromise(function (resolve, reject) {\n      var doDelete = function doDelete() {\n        _this.close();\n\n        var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n\n        req.onsuccess = wrap(function () {\n          databaseEnumerator.remove(_this.name);\n          resolve();\n        });\n        req.onerror = eventRejectHandler(reject);\n        req.onblocked = _this._fireOnBlocked;\n      };\n\n      if (hasArguments) throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");\n\n      if (state.isBeingOpened) {\n        state.dbReadyPromise.then(doDelete);\n      } else {\n        doDelete();\n      }\n    });\n  };\n\n  Dexie.prototype.backendDB = function () {\n    return this.idbdb;\n  };\n\n  Dexie.prototype.isOpen = function () {\n    return this.idbdb !== null;\n  };\n\n  Dexie.prototype.hasBeenClosed = function () {\n    var dbOpenError = this._state.dbOpenError;\n    return dbOpenError && dbOpenError.name === 'DatabaseClosed';\n  };\n\n  Dexie.prototype.hasFailed = function () {\n    return this._state.dbOpenError !== null;\n  };\n\n  Dexie.prototype.dynamicallyOpened = function () {\n    return this._state.autoSchema;\n  };\n\n  Object.defineProperty(Dexie.prototype, \"tables\", {\n    get: function get() {\n      var _this = this;\n\n      return keys(this._allTables).map(function (name) {\n        return _this._allTables[name];\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Dexie.prototype.transaction = function () {\n    var args = extractTransactionArgs.apply(this, arguments);\n    return this._transaction.apply(this, args);\n  };\n\n  Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n    var _this = this;\n\n    var parentTransaction = PSD.trans;\n    if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1) parentTransaction = null;\n    var onlyIfCompatible = mode.indexOf('?') !== -1;\n    mode = mode.replace('!', '').replace('?', '');\n    var idbMode, storeNames;\n\n    try {\n      storeNames = tables.map(function (table) {\n        var storeName = table instanceof _this.Table ? table.name : table;\n        if (typeof storeName !== 'string') throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n        return storeName;\n      });\n      if (mode == \"r\" || mode === READONLY) idbMode = READONLY;else if (mode == \"rw\" || mode == READWRITE) idbMode = READWRITE;else throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n\n      if (parentTransaction) {\n        if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n          if (onlyIfCompatible) {\n            parentTransaction = null;\n          } else throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n        }\n\n        if (parentTransaction) {\n          storeNames.forEach(function (storeName) {\n            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n              if (onlyIfCompatible) {\n                parentTransaction = null;\n              } else throw new exceptions.SubTransaction(\"Table \" + storeName + \" not included in parent transaction.\");\n            }\n          });\n        }\n\n        if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n          parentTransaction = null;\n        }\n      }\n    } catch (e) {\n      return parentTransaction ? parentTransaction._promise(null, function (_, reject) {\n        reject(e);\n      }) : rejection(e);\n    }\n\n    var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n    return parentTransaction ? parentTransaction._promise(idbMode, enterTransaction, \"lock\") : PSD.trans ? usePSD(PSD.transless, function () {\n      return _this._whenReady(enterTransaction);\n    }) : this._whenReady(enterTransaction);\n  };\n\n  Dexie.prototype.table = function (tableName) {\n    if (!hasOwn(this._allTables, tableName)) {\n      throw new exceptions.InvalidTable(\"Table \" + tableName + \" does not exist\");\n    }\n\n    return this._allTables[tableName];\n  };\n\n  return Dexie;\n}();\n\nvar Dexie$1 = Dexie;\nprops(Dexie$1, _assign(_assign({}, fullNameExceptions), {\n  delete: function _delete(databaseName) {\n    var db = new Dexie$1(databaseName);\n    return db.delete();\n  },\n  exists: function exists(name) {\n    return new Dexie$1(name, {\n      addons: []\n    }).open().then(function (db) {\n      db.close();\n      return true;\n    }).catch('NoSuchDatabaseError', function () {\n      return false;\n    });\n  },\n  getDatabaseNames: function getDatabaseNames(cb) {\n    return databaseEnumerator ? databaseEnumerator.getDatabaseNames().then(cb) : DexiePromise.resolve([]);\n  },\n  defineClass: function defineClass() {\n    function Class(content) {\n      extend(this, content);\n    }\n\n    return Class;\n  },\n  ignoreTransaction: function ignoreTransaction(scopeFunc) {\n    return PSD.trans ? usePSD(PSD.transless, scopeFunc) : scopeFunc();\n  },\n  vip: vip,\n  async: function async(generatorFn) {\n    return function () {\n      try {\n        var rv = awaitIterator(generatorFn.apply(this, arguments));\n        if (!rv || typeof rv.then !== 'function') return DexiePromise.resolve(rv);\n        return rv;\n      } catch (e) {\n        return rejection(e);\n      }\n    };\n  },\n  spawn: function spawn(generatorFn, args, thiz) {\n    try {\n      var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n      if (!rv || typeof rv.then !== 'function') return DexiePromise.resolve(rv);\n      return rv;\n    } catch (e) {\n      return rejection(e);\n    }\n  },\n  currentTransaction: {\n    get: function get() {\n      return PSD.trans || null;\n    }\n  },\n  waitFor: function waitFor(promiseOrFunction, optionalTimeout) {\n    var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ? Dexie$1.ignoreTransaction(promiseOrFunction) : promiseOrFunction).timeout(optionalTimeout || 60000);\n    return PSD.trans ? PSD.trans.waitFor(promise) : promise;\n  },\n  Promise: DexiePromise,\n  debug: {\n    get: function get() {\n      return debug;\n    },\n    set: function set(value) {\n      setDebug(value, value === 'dexie' ? function () {\n        return true;\n      } : dexieStackFrameFilter);\n    }\n  },\n  derive: derive,\n  extend: extend,\n  props: props,\n  override: override,\n  Events: Events,\n  getByKeyPath: getByKeyPath,\n  setByKeyPath: setByKeyPath,\n  delByKeyPath: delByKeyPath,\n  shallowClone: shallowClone,\n  deepClone: deepClone,\n  getObjectDiff: getObjectDiff,\n  asap: asap,\n  minKey: minKey,\n  addons: [],\n  connections: connections,\n  errnames: errnames,\n  dependencies: function () {\n    try {\n      return {\n        indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n        IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n      };\n    } catch (e) {\n      return {\n        indexedDB: null,\n        IDBKeyRange: null\n      };\n    }\n  }(),\n  semVer: DEXIE_VERSION,\n  version: DEXIE_VERSION.split('.').map(function (n) {\n    return parseInt(n);\n  }).reduce(function (p, c, i) {\n    return p + c / Math.pow(10, i * 2);\n  }),\n  default: Dexie$1,\n  Dexie: Dexie$1\n}));\nDexie$1.maxKey = getMaxKey(Dexie$1.dependencies.IDBKeyRange);\ninitDatabaseEnumerator(Dexie.dependencies.indexedDB);\nDexiePromise.rejectionMapper = mapError;\nsetDebug(debug, dexieStackFrameFilter);\nexport default Dexie;\nexport { Dexie };","import Dexie from \"dexie\";\r\n\r\nconst db = new Dexie(\"TodoDB\");\r\ndb.version(1).stores({ tasks: \"++id\" });\r\n\r\nexport const getTaskListFromDB = (setTaskList) => {\r\n  db.table(\"tasks\")\r\n    .toArray()\r\n    .then((tasks) => {\r\n      setTaskList(tasks);\r\n    });\r\n};\r\n\r\nexport const addTaskToDB = (taskList, setTaskList, text) => {\r\n  const task = {\r\n    text,\r\n    date: new Date().getTime(),\r\n  };\r\n  db.table(\"tasks\")\r\n    .add(task)\r\n    .then((id) => {\r\n      setTaskList([...taskList, Object.assign({}, task, { id })]);\r\n    });\r\n};\r\n\r\nexport const deleteTaskFromDb = (taskList, setTaskList, taskDoneList) => {\r\n  db.table(\"tasks\")\r\n    .bulkDelete(taskDoneList)\r\n    .then(() => {\r\n      let taskListCopy = [...taskList];\r\n      taskDoneList.forEach((id) => {\r\n        var index = taskListCopy.findIndex((task) => task.id === id);\r\n        taskListCopy.splice(index, 1);\r\n      });\r\n      setTaskList(taskListCopy);\r\n    });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport Task from \"../components/Task\";\r\n\r\nimport {\r\n  getTaskListFromDB,\r\n  addTaskToDB,\r\n  deleteTaskFromDb,\r\n} from \"../data/indexedDB\";\r\n\r\nconst IndexPage = () => {\r\n  const [task, setTask] = useState(\"\");\r\n  const [taskDoneList, setTaskDoneList] = useState([]);\r\n  const [taskList, setTaskList] = useState([]);\r\n\r\n  const [timeoutId, setTimeoutId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    !(\"indexedDB\" in window) &&\r\n      alert(\"Todo app is not supported in this browser\");\r\n    getTaskListFromDB(setTaskList);\r\n    Notification.requestPermission(function (status) {\r\n      console.log(\"Notification permission status:\", status);\r\n    });\r\n  }, []);\r\n\r\n  function displayNotification() {\r\n    if (Notification.permission == \"granted\") {\r\n      navigator.serviceWorker.getRegistration().then(function (reg) {\r\n        reg.showNotification(\"Hello world!\");\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleAddTask = (e) => {\r\n    e.preventDefault();\r\n    addTaskToDB(taskList, setTaskList, task);\r\n    setTask(\"\");\r\n  };\r\n\r\n  const handleSetTaskDone = (id) => {\r\n    let taskDoneListCopy = [...taskDoneList];\r\n    taskDoneListCopy.push(id);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    let tID = setTimeout(() => {\r\n      deleteTaskFromDb(taskList, setTaskList, taskDoneListCopy);\r\n      setTaskDoneList([]);\r\n      setTimeoutId(null);\r\n    }, 3000);\r\n    setTimeoutId(tID);\r\n    setTaskDoneList(taskDoneListCopy);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <GlobalStyle />\r\n      <Container>\r\n        <button onClick={displayNotification}>Show notification</button>\r\n        <TitleContainer>\r\n          <Title>todo</Title>\r\n          <Date>24/10/2021</Date>\r\n        </TitleContainer>\r\n        <TaskList>\r\n          {taskList.length === 0 ? (\r\n            <TaskListEmptyText>No tasks yet :(</TaskListEmptyText>\r\n          ) : (\r\n            taskList.map((item, index) => (\r\n              <Task\r\n                text={item.text}\r\n                key={item.id}\r\n                onClick={() => handleSetTaskDone(index)}\r\n                done={taskDoneList.includes(index)}\r\n                disabled={taskDoneList.includes(index)}\r\n              />\r\n            ))\r\n          )}\r\n        </TaskList>\r\n        <AddTaskContainer onSubmit={handleAddTask}>\r\n          <TextInput\r\n            type=\"text\"\r\n            placeholder=\"Write your task\"\r\n            value={task}\r\n            onChange={(e) => {\r\n              setTask(e.target.value);\r\n            }}\r\n          />\r\n          <AddButton type=\"submit\">Add</AddButton>\r\n        </AddTaskContainer>\r\n      </Container>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    background: #F5F5F5;\r\n    font-family: 'Roboto', sans-serif;\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    -webkit-tap-highlight-color: transparent;\r\n    font-size:100%\r\n  }\r\n`;\r\n\r\nconst MainContainer = styled.main`\r\n  @media (min-width: 768px) {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst Container = styled.section`\r\n  padding: 0 20px 0 20px;\r\n  width: 100%;\r\n  @media (min-width: 768px) {\r\n    max-width: 60%;\r\n  }\r\n`;\r\n\r\nconst TitleContainer = styled.article`\r\n  margin: 80px 0 80px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.5rem;\r\n  font-weight: 400;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Date = styled.h3`\r\n  font-size: 1.125rem;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst TaskList = styled.ul`\r\n  list-style-type: none;\r\n  padding-bottom: 100px;\r\n`;\r\n\r\nconst TaskListEmptyText = styled.p`\r\n  color: rgba(0, 0, 0, 0.5);\r\n  text-align: center;\r\n`;\r\n\r\nconst AddTaskContainer = styled.form`\r\n  position: fixed;\r\n  background-color: yellow;\r\n  width: calc(100% - 40px);\r\n  bottom: 20px;\r\n  right: 20px;\r\n  @media (min-width: 768px) {\r\n    width: calc(60% - 40px);\r\n    right: 50%;\r\n    transform: translateX(50%);\r\n  }\r\n`;\r\n\r\nconst TextInput = styled.input`\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 0;\r\n  right: 0;\r\n  border-radius: 30px;\r\n  outline: none;\r\n  border: none;\r\n  background-color: white;\r\n  padding: 16px 24px;\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 1;\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 16px 24px;\r\n  border-radius: 30px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1.25px;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n\r\n  &:hover {\r\n    background-color: #212121;\r\n  }\r\n`;\r\n\r\nexport default IndexPage;\r\n"],"names":["isCallable","tryToString","module","exports","argument","TypeError","isConstructor","String","isObject","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","value","O","length","index","includes","indexOf","toString","it","call","slice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","CORRECT_ARGUMENTS","arguments","tag","result","undefined","key","error","tryGet","Object","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","source","keys","defineProperty","f","getOwnPropertyDescriptor","i","fails","F","prototype","constructor","getPrototypeOf","DESCRIPTORS","createPropertyDescriptor","object","bitmap","enumerable","configurable","writable","get","global","document","EXISTS","createElement","getBuiltIn","match","version","userAgent","process","Deno","versions","v8","split","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","exec","aCallable","fn","that","a","b","c","apply","FunctionPrototype","Function","getDescriptor","PROPER","name","CONFIGURABLE","aFunction","namespace","method","classof","getMethod","Iterators","ITERATOR","anObject","getIteratorMethod","usingIterator","iteratorMethod","V","P","func","check","Math","globalThis","window","self","g","this","toObject","hasOwnProperty","propertyIsEnumerable","store","functionToString","inspectSource","cause","set","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","type","ArrayPrototype","Array","empty","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","called","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","USE_SYMBOL_AS_UID","$Symbol","isArrayIteratorMethod","bind","getIterator","iteratorClose","Result","stopped","iterable","unboundFunction","iterator","iterFn","next","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","done","kind","innerResult","innerError","toLength","obj","Promise","V8_VERSION","getOwnPropertySymbols","symbol","Symbol","test","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","domain","style","display","appendChild","src","contentWindow","open","create","Properties","objectKeys","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","concat","getOwnPropertyNames","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","names","push","$propertyIsEnumerable","NASHORN_BUG","aPossiblePrototype","setPrototypeOf","setter","CORRECT_SETTER","proto","__proto__","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","newPromiseCapability","x","promiseCapability","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","join","uid","SHARED","IS_PURE","mode","copyright","aConstructor","SPECIES","defaultConstructor","S","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","ceil","floor","number","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","installErrorCause","iterate","$AggregateError","errors","message","Error","errorsArray","AggregateError","NativePromise","speciesConstructor","promiseResolve","real","then","onFinally","isFunction","e","TaskContainer","styled","CheckboxContainer","Checkbox","props","TextContainer","Text","text","onClick","disabled","_assign","assign","t","s","n","p","__spreadArrays","il","r","k","j","jl","isArray","_global","extend","extension","forEach","getProto","_hasOwn","prop","setProp","functionOrGetSet","derive","Child","from","Parent","getPropertyDescriptor","_slice","args","start","end","override","origFunc","overridedFactory","assert","asap","setImmediate","setTimeout","arrayToObject","array","extractor","reduce","item","nameAndValue","getByKeyPath","keyPath","rv","l","period","innerObj","substr","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","isNaN","parseInt","splice","delByKeyPath","map","kp","shallowClone","m","flatten","intrinsicTypeNames","num","filter","intrinsicTypes","intrinsicTypeNameSet","deepClone","any","toStringTag","o","getValueOf","v","Uint8Array","getTime","ArrayBuffer","isView","buffer","getObjectDiff","prfx","ap","bp","apTypeName","bpTypeName","iteratorSymbol","getIteratorOf","NO_CHAR_ARRAY","getArrayOf","arrayLike","isAsyncFunction","debug","location","href","setDebug","libraryFilter","NEEDS_THROW_FOR_STACK","stack","getErrorWithStack","prettyStack","exception","numIgnoredFrames","frame","idbDomErrorNames","errorList","defaultTexts","VersionChanged","DatabaseClosed","Abort","TransactionInactive","DexieError","msg","_e","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","_stack","errnames","BaseException","exceptions","fullName","msgOrInner","inner","Syntax","SyntaxError","Type","Range","RangeError","exceptionMap","fullNameExceptions","nop","mirror","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","res","onsuccess","onerror","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","INTERNAL","_a","globalP","crypto","subtle","nativeP","digest","resolvedNativePromise","nativePromiseProto","resolvedGlobalPromise","nativePromiseThen","patchGlobalPromise","stack_being_generated","schedulePhysicalTick","physicalTick","MutationObserver","hiddenDiv","observe","attributes","setAttribute","asap$1","callback","microtickQueue","needsNewPhysicalTick","isOutsideMicroTick","unhandledErrors","rejectingErrors","currentFulfiller","rejectionMapper","globalPSD","ref","unhandleds","onunhandled","globalError","pgp","env","finalize","uh","PSD","numScheduledCalls","tickFinalizers","DexiePromise","_listeners","onuncatched","_lib","psd","_PSD","_stackHolder","_prev","_numPrev","_state","_value","handleRejection","executePromiseTask","thenProp","microTaskId","totalEchoes","onFulfilled","onRejected","_this","possibleAwait","cleanup","decrementExpectedAwaits","propagateToListener","Listener","nativeAwaitCompatibleWrap","linkToPreviousPromise","zone","shouldExecuteTick","beginMicroTickScope","_then","propagateAllListeners","endMicroTickScope","ex","reason","_promise","tryCatch","origProp","some","addPossiblyUnhandledError","listeners","len","finalizePhysicalTick","listener","cb","callListener","ret","markErrorAsHandled","getStack","stacks","limit","errorName","failure","prev","numPrev","wasRootExec","callbacks","unhandledErrs","finalizers","PromiseReject","wrap","errorCatcher","outerScope","switchToZone","catch","handler","err","finally","timeout","ms","Infinity","handle","Timeout","clearTimeout","snapShot","all","values","onPossibleParallellAsync","remaining","race","newPSD","newScope","usePSD","scheduler","follow","zoneProps","finalizer","run_at_end_of_this_or_next_physical_tick","allSettled","possiblePromises","results","status","task","awaits","echoes","taskCounter","zoneStack","zoneEchoes","zone_id_counter","props$$1","a1","a2","parent","globalEnv","PromiseProp","nthen","getPatchedPromiseThen","gthen","incrementExpectedAwaits","possiblePromise","rejection","zoneEnterEcho","targetZone","zoneLeaveEcho","pop","bEnteringZone","currentZone","enqueueNativeMicroTask","GlobalPromise_1","targetEnv","GlobalPromise","a3","job","outerZone","origThen","onResolved","UNHANDLEDREJECTION","event","eventData","createEvent","initEvent","CustomEvent","detail","dispatchEvent","PromiseRejectionEvent","onunhandledrejection","_","defaultPrevented","console","warn","tempTransaction","db","storeNames","openComplete","letThrough","trans","_createTransaction","_dbSchema","_completion","isBeingOpened","_options","autoOpen","dbReadyPromise","DEXIE_VERSION","maxString","fromCharCode","minKey","INVALID_KEY_ARGUMENT","STRING_EXPECTED","connections","isIEOrEdge","navigator","hasIEDeleteObjectStoreBug","hangsOnDeleteLargeKeyRange","dexieStackFrameFilter","DBNAMES_DB","READONLY","READWRITE","combine","filter1","filter2","AnyRange","lower","lowerOpen","upper","upperOpen","workaroundForUndefinedPrimKey","Table","_trans","writeLocked","_tx","tableName","checkTableInTransaction","schema","NotFound","idbtrans","transless","keyOrCrit","where","first","core","hook","reading","fire","indexOrCrit","WhereClause","keyPaths","equals","compoundIndex","indexes","primKey","ix","compound","every","_maxKey","JSON","stringify","idxByName","idb","_deps","indexedDB","cmp","prevIndex","prevFilterFn","multi","idx","filterFunction","toCollection","and","count","thenShortcut","offset","numRows","each","toArray","Collection","orderBy","reverse","mapToClass","mappedClass","readHook","unsubscribe","defineClass","add","auto","objToAdd","mutate","numFailures","lastResult","update","keyOrObject","InvalidArgument","modify","put","delete","clear","range","bulkGet","keys$$1","getMany","bulkAdd","objects","keysOrOptions","wantResults","allKeys","numObjects","objectsToAdd","pos","bulkPut","objectsToPut","bulkDelete","numKeys","Events","ctx","evs","eventName","subscriber","subscribe","addEventType","chainFunction","defaultFunction","addConfiguredEvents","context","subscribers","cfg","makeClassConstructor","isPlainKeyRange","ignoreLimitFilter","algorithm","or","justLimit","replayFilter","addFilter","addReplayFilter","factory","isLimitFilter","curr","getIndexOrStore","coreSchema","isPrimKey","primaryKey","getIndexByKeyPath","Schema","openCursor","coreTable","keysOnly","dir","unique","query","iter","coreTrans","set_1","union","cursor","advance","fail","_iterate","valueMapper","cursorPromise","wrappedFn","continue","advancer","_read","_ctx","table","_write","_addAlgorithm","clone","raw","sortBy","parts","lastPart","lastIndex","getval","order","sorter","aVal","bVal","sort","valueMapper_1","a_1","offsetLeft","rowsLeft","until","bIncludeStopEntry","last","isMatch","indexName","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","strKey","found","changes","modifyer","anythingModified","outbound","extractKey","Dexie","totalFailures","applyMutateResult","expectedCount","_i","nextChunk","addValues","putValues","putKeys","deleteKeys","origValue","ctx_1","coreRange","simpleCompare","simpleCompareReverse","collectionOrWhereClause","T","collection","emptyCollection","whereClause","rangeEqual","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","suffix","compare","upperNeedles","lowerNeedles","direction","nextKeySuffix","needlesLen","initDirection","toUpperCase","upperFactory","lowerFactory","needleBounds","needle","nb","createRange","firstPossibleNeedle","lowestPossibleCasing","casing","between","includeLower","includeUpper","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWith","str","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","ranges","ascending","descending","_min","_max","sortDirection","rangeSorter","newRange","rangePos","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","checkKey","keyWithinCurrentRange","startsWithAnyOf","safariMultiStoreFix","getMaxKey","IdbKeyRange","only","eventRejectHandler","preventDefault","stopPropagation","Transaction","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","fnAndPSD","shift","idbdb","dbOpenError","MissingAPI","OpenFailed","active","transaction","ev","_reject","onabort","on","oncomplete","_resolve","bWriteLock","ReadOnly","_root","waitFor","promiseLike","root","_waitingFor","_waitingQueue","objectStore","spin","_spinCount","currentWaitPromise","abort","memoizedTables","_memoizedTables","tableSchema","transactionBoundTable","createIndexSpec","nameFromKeyPath","createTableSchema","getKeyExtractor","getSinglePathKeyExtractor","getEffectiveKeys","req","arrayify","_id_counter","getKeyPathAlias","createDBCore","tmpTrans","makeIDBKeyRange","upperBound","lowerBound","bound","tables","objectStoreNames","autoIncrement","indexByKeyPath","isPrimaryKey","indexNames","multiEntry","hasGetAll","extractSchema","isAddOrPut","errorHandler","_reqno","setResult","args1","args2","keyCount","callbackCount","successHandler","_pos","request","nonInfinitLimit","idbKeyRange","getAll","getAllKeys","count_1","req_1","openKeyCursor","result_1","___id","_cursorContinue","_cursorContinuePrimaryKey","continuePrimaryKey","_cursorAdvance","doThrowCursorIsStopped","gotOne","iterationPromise","resolveIteration","rejectIteration","guardedCallback","createDbCoreTable","tableMap","MIN_KEY","MAX_KEY","createMiddlewareStacks","middlewares","IDBKeyRange","dbcore","stackImpl","down","createMiddlewareStack","generateMiddlewareStacks","_middlewares","tbl","setApiOnPlace","objs","tableNames","dbschema","propDesc","removeTablesApi","lowerVersionFirst","_cfg","runUpgraders","oldVersion","idbUpgradeTrans","globalSchema","_storeNames","rejectTransaction","createTable","populate","queue","_versions","buildGlobalSchema","anyContentUpgraderHasRun","runQueue","oldSchema","newSchema","adjustToExistingIndexNames","diff","getSchemaDiff","tuple","change","recreate","Upgrade","store_1","addIndex","deleteIndex","del","idxName","contentUpgrade","upgradeSchema_1","returnValue_1","contentUpgradeIsAsync_1","promiseFollowed","decrementor","storeName","deleteObjectStore","deleteRemovedTables","contains","updateTablesAndIndexes","oldDef","newDef","def","oldIndexes","newIndexes","oldIdx","newIdx","createObjectStore","createIndex","idbindex","_hasGetAll","dexieName","indexSpec","WorkerGlobalScope","databaseEnumerator","Version","_parseStoresSpec","stores","outSchema","indexNum","trim","storesSource","storesSpec","_allTables","upgrade","upgradeFunction","vip","dexieOpen","openCanceller","resolveDbReady","dbReadyResolve","upgradeTransaction","dbName","autoSchema","round","verno","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","delreq","deleteDatabase","NoSuchDatabase","oldVer","pow","readGlobalSchema","ch","verifyInstalledSchema","onversionchange","vcFired","onReadyBeingFired","ready","fireRemainders","remainders","awaitIterator","callNext","onSuccess","onError","throw","getNext","extractTransactionArgs","_tableArgs_","scopeFunc","enterTransactionScope","parentTransaction","returnValue","scopeFuncIsAsync","PrematureCommit","pad","virtualIndexMiddleware","level","indexLookup","allVirtualIndexes","addVirtualIndexes","keyTail","lowLevelIndex","keyPathAlias","indexList","keyLength","isVirtual","virtualIndex","translateRequest","virtualCursor","createVirtualCursor","hooksMiddleware","downCore","downTable","tableMiddleware","dxTrans","deleting","creating","updating","addPutOrDelete","deleteNextChunk","deleteRange","effectiveKeys","getExistingValues","existingValues","contexts","existingValue","generatedPrimaryKey","objectDiff","additionalChanges_1","requestedValue_1","deps","dependencies","addons","cancelOpen","bSticky","db_1","keyRangeGenerator","keyRange","whereCtx","readingHook","createCollectionConstructor","createTableConstructor","complete","wasActive","createTransactionConstructor","versionNumber","createVersionConstructor","orCollection","_IDBKeyRange","createWhereClauseConstructor","newVersion","use","addon","versionInstance","_whenReady","unuse","mw","hasArguments","doDelete","remove","backendDB","isOpen","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","idbMode","onlyIfCompatible","SubTransaction","enterTransaction","InvalidTable","Dexie$1","databaseName","exists","getDatabaseNames","ignoreTransaction","async","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","semVer","default","maxKey","dbNamesTable","hasDatabasesNative","databases","dbnames","infos","info","DatabaseEnumerator","initDatabaseEnumerator","domError","tasks","GlobalStyle","createGlobalStyle","MainContainer","Container","TitleContainer","Title","Date","TaskList","TaskListEmptyText","AddTaskContainer","TextInput","AddButton","useState","setTask","taskDoneList","setTaskDoneList","taskList","setTaskList","timeoutId","setTimeoutId","useEffect","alert","getTaskListFromDB","Notification","requestPermission","log","handleSetTaskDone","taskDoneListCopy","tID","taskListCopy","findIndex","deleteTaskFromDb","permission","serviceWorker","getRegistration","reg","showNotification","onSubmit","date","addTaskToDB","placeholder","onChange"],"sourceRoot":""}